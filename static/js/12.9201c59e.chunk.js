(this["webpackJsonprwanda-fda"]=this["webpackJsonprwanda-fda"]||[]).push([[12],{107:function(e,t,s){"use strict";s.d(t,"a",(function(){return _}));var a=s(3),r=s(5),c=s(26),n=s(27),i=s(28),l=s(29),o=s(2),d=s(24),u=s(30),h=s(23),j=s(21),m=s(106),p=s(102),x=s(101),b=s(103),f=s(49),O=s(12),y=s(1),g=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var a;return Object(c.a)(this,s),(a=t.call(this,e)).state={search_data:""},a}return Object(n.a)(s,[{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{children:!0===this.props.loading?Object(y.jsxs)(x.a,{className:"mt-2",children:[Object(y.jsx)(p.a,{}),Object(y.jsx)("div",{className:"ml-4 -mt-10 text-xl font-light animate-pulse",children:"Loading data, please wait..."})]}):Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 mb-4",children:[Object(y.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[Object(y.jsxs)("div",{onClick:this.props.GoBack,className:"flex flex-row items-center justify-center gap-2 bg-accent-400 text-accent-900 hover:bg-yellow-700 hover:text-white rounded w-max cursor-pointer px-3 py-2",children:[Object(y.jsx)("div",{children:Object(y.jsx)(u.a,{className:"text-2xl"})}),Object(y.jsx)("span",{children:"Go Back"})]}),Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"h-10 w-10 rounded bg-primary-50 text-primary-900 flex items-center justify-center",children:Object(y.jsx)(f.b,{className:"text-3xl"})})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"text-lg font-bold",children:["Search results for ",this.props.search_keyword]}),Object(y.jsx)("div",{className:"text-xs font-light -mt-1",children:"Select application from the list to view more details to be allowed performing more actions"})]})]}),Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("div",{className:"text-sm font-light",children:"Total applications"}),Object(y.jsx)("div",{className:"font-extrabold text-xl -mt-1",children:Object(O.c)(this.props.custom_search_result.length)})]})})]}),Object(y.jsx)("div",{children:0===this.props.custom_search_result.length?Object(y.jsxs)("div",{className:"bg-gray-100 rounded-md px-4 py-6 flex flex-col items-center justify-center text-center m-3",children:[Object(y.jsx)("div",{children:Object(y.jsx)(h.e,{className:"text-8xl text-gray-300 animate__animated animate__shakeX"})}),Object(y.jsxs)("div",{className:"text-lg text-gray-500",children:["No result found for"," ",Object(y.jsx)("span",{className:"font-bold",children:this.state.search_data})]})]}):Object(y.jsxs)("div",{children:[Object(y.jsx)("div",{children:Object(y.jsxs)("div",{className:"relative w-full mb-4",children:[Object(y.jsx)("div",{className:"absolute px-3 py-2",children:Object(y.jsx)(h.e,{className:"text-2xl text-gray-600"})}),Object(y.jsx)("input",{type:"search",className:"font-normal bg-white border border-primary-900 w-full px-3 pl-12 py-2 rounded",placeholder:"Search...",value:this.state.search_data,onChange:function(t){return e.setState({search_data:t.target.value})}})]})}),Object(y.jsx)("div",{className:"w-full",style:{height:"calc(100vh - 270px)",overflowY:"auto"},children:Object(y.jsxs)("table",{className:"text-left text-xs w-full",children:[Object(y.jsx)("thead",{className:"bg-primary-50",children:Object(y.jsxs)("tr",{children:[Object(y.jsx)("th",{className:"px-3 py-2",children:"#"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Reference number"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Product common name"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Product brand name"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Manufacturer name and country"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Submission date"}),Object(y.jsx)("th",{className:"px-3 py-2",children:"Registration Status"})]})}),Object(y.jsx)("tbody",{children:0===Object(O.e)(this.props.custom_search_result,this.state.search_data).length?Object(y.jsx)("tr",{children:Object(y.jsx)("td",{colSpan:7,className:"text-xl font-light py-3 text-center",children:Object(y.jsxs)("div",{className:"bg-gray-100 rounded-md px-4 py-6 flex flex-col items-center justify-center text-center m-3",children:[Object(y.jsx)("div",{children:Object(y.jsx)(h.e,{className:"text-8xl text-gray-300 animate__animated animate__shakeX"})}),Object(y.jsxs)("div",{className:"text-lg text-gray-500",children:["No result found for"," ",Object(y.jsx)("span",{className:"font-bold",children:this.state.search_data})]})]})})}):Object(O.e)(this.props.custom_search_result,this.state.search_data).map((function(t,s){return Object(y.jsxs)("tr",{className:"".concat(s%2!==0?"bg-gray-100":""," cursor-pointer hover:bg-primary-100 hover:text-primary-800 text-xs"),title:"Click to select the application",onClick:function(){return e.props.onSelect(t.application_ref_number)},children:[Object(y.jsx)("td",{className:"px-3 py-2",children:s+1}),Object(y.jsx)("td",{className:"px-3 py-2",children:t.application_ref_number}),Object(y.jsx)("td",{className:"px-3 py-2",children:t.product_common_name}),Object(y.jsx)("td",{className:"px-3 py-2",children:t.product_brand_name}),Object(y.jsx)("td",{className:"px-3 py-2",children:t.manufacturer_name_and_country}),Object(y.jsx)("td",{className:"px-3 py-2",children:Object(O.a)(t.submission_date)}),Object(y.jsx)("td",{className:"px-3 py-2",children:t.registration_Status})]},s+1)}))})]})})]})})]})})}}]),s}(o.Component),_=function(e){Object(i.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).FC_GetApplicationsListByKeyword=function(e){n.setState({loading:!0}),n.props.FC_GetCustomSearchResults(e,(function(e,t,s){console.log("data: ",t),n.setState({loading:e}),!1===e&&n.setState({custom_search_result:t}),""!==s&&n.setState({error:{target:"main",msg:s}})}))},n.FC_RequestApplicationDetails=function(e){n.setState({loading:!0}),n.props.FC_GetApplicationByReferenceNumber(e,(function(e,t,s){console.log("data: ",t),n.setState({loading:e}),!1===e&&n.setState({data:t,custom_search_result:null}),""!==s&&n.setState({error:{target:"main",msg:s}})}))},n.SearchDataByReferenceNumber=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=2;break}return e.abrupt("return",n.setState({error:{target:"form",msg:"Please fill reference number of the application"}}));case 2:n.FC_RequestApplicationDetails(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.SearchResultsByKeyword=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==n.state.reference_number){e.next=3;break}return e.abrupt("return",n.setState({error:{target:"form",msg:"Please fill search keyword for the application"}}));case 3:n.FC_GetApplicationsListByKeyword(n.state.reference_number);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={loading:!1,reference_number:"",error:null,data:null,custom_search_result:null},n}return Object(n.a)(s,[{key:"render",value:function(){var e,t=this;return Object(y.jsxs)(o.Fragment,{children:[Object(y.jsxs)("div",{children:[Object(y.jsxs)(x.a,{className:"mt-3 animate__animated animate__fadeIn",children:[Object(y.jsxs)("div",{className:"grid grid-cols-6 lg:grid-cols-12 gap-2",children:[Object(y.jsxs)("div",{className:"col-span-6 flex flex-row items-center gap-3",children:[Object(y.jsx)("div",{className:"",children:Object(y.jsx)("div",{onClick:this.props.onGoBack,className:"bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full",children:Object(y.jsx)(u.a,{className:"text-3xl"})})}),Object(y.jsxs)("div",{className:"flex flex-col",children:[Object(y.jsx)("span",{className:"text-xl font-extrabold",children:"Get Application by keyword"}),Object(y.jsx)("span",{className:"text-xs text-gray-600",children:"Searching for an application using application reference number, manufacturer name or product name"})]})]}),Object(y.jsxs)("form",{onSubmit:this.SearchResultsByKeyword,className:"col-span-6 flex flex-row items-end justify-end gap-3",children:[Object(y.jsxs)("div",{className:"flex flex-col w-full",children:[Object(y.jsx)("span",{className:"text-sm",children:"Type search keyword"}),Object(y.jsx)("input",{type:"text",value:this.state.reference_number,onChange:function(e){t.setState({reference_number:e.target.value,error:null})},disabled:this.state.loading,className:"px-3 py-2 rounded-md border-2 font-light ".concat("form"===(null===(e=this.state.error)||void 0===e?void 0:e.target)?"border-red-600":"border-primary-800"," w-full text-sm"),placeholder:"Reference number or Manufacture or Product name"})]}),Object(y.jsxs)("button",{type:"submit",className:"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900",children:[Object(y.jsx)("div",{children:!0===this.state.loading?Object(y.jsx)(d.d,{className:"text-xl animate-spin"}):Object(y.jsx)(h.e,{className:"text-xl"})}),Object(y.jsx)("span",{children:"Search"})]})]})]}),null!==this.state.error&&Object(y.jsx)("div",{className:"w-full mt-3",children:""!==this.state.error.msg&&Object(y.jsx)(j.b,{alertType:j.a.DANGER,title:"form"===this.state.error.target?"Invalid input!":"Error Occurred",description:this.state.error.msg,close:function(){t.setState({error:null})}})})]}),!0===this.state.loading&&Object(y.jsxs)(x.a,{className:"mt-2",children:[Object(y.jsx)(p.a,{}),Object(y.jsx)("div",{className:"ml-4 -mt-10 text-xl font-light animate-pulse",children:"Loading, please wait..."})]}),!1===this.state.loading&&null!==this.state.data&&Object(y.jsx)(x.a,{className:"mt-2",children:Object(y.jsx)(m.a,{data:this.state.data,modal:!1,onClose:function(){},source:"search",onUpdate:function(e){t.setState({reference_number:e}),t.FC_RequestApplicationDetails(e)},FC_SetSuccess:this.props.FC_SetSuccess,FC_Error:this.props.FC_Error})})]}),null!==this.state.custom_search_result&&Object(y.jsx)(b.d,{backDrop:!0,theme:b.c.default,close:function(){!1===t.state.loading&&t.setState({custom_search_result:null})},backDropClose:!0,widthSizeClass:b.b.maxWidth,displayClose:!1,padding:{title:void 0,body:!0,footer:void 0},marginTop:b.a.small,children:Object(y.jsx)(g,{loading:this.state.loading,custom_search_result:this.state.custom_search_result,search_keyword:this.state.reference_number,onSelect:this.SearchDataByReferenceNumber,GoBack:function(){t.setState({custom_search_result:null})}})})]})}}]),s}(o.Component)},120:function(e,t,s){"use strict";s.r(t),s.d(t,"SearchApplication",(function(){return m}));var a=s(26),r=s(27),c=s(28),n=s(29),i=s(2),l=s(31),o=s(10),d=s(11),u=s(107),h=s(1),j=function(e){Object(c.a)(s,e);var t=Object(n.a)(s);function s(e){var r;return Object(a.a)(this,s),(r=t.call(this,e)).state={loading:!1,redirect:!1},r}return Object(r.a)(s,[{key:"render",value:function(){var e=this;return!0===this.state.redirect?Object(h.jsx)(o.a,{to:"/applications-list"}):Object(h.jsx)("div",{children:Object(h.jsx)(u.a,{onGoBack:function(){e.setState({redirect:!0})},FC_GetApplicationByReferenceNumber:this.props.FC_GetApplicationByReferenceNumber,FC_SetSuccess:this.props.FC_SetSuccess,FC_Error:this.props.FC_SetError,FC_GetCustomSearchResults:this.props.FC_GetCustomSearchResults})})}}]),s}(i.Component),m=Object(l.b)((function(e){return{auth:e.auth,system:e.system,applications:e.applications}}),{FC_GetApplicationByReferenceNumber:d.f,FC_GetCustomSearchResults:d.h,FC_SetSuccess:d.r,FC_SetError:d.q})(j)}}]);
//# sourceMappingURL=12.9201c59e.chunk.js.map