{"version":3,"sources":["components/MainContainer/MainContainer.tsx","containers/ChangePassword/ChangePassword.tsx"],"names":["MainContainer","props","className","children","ChangePassword","SubmitChangePassword","e","preventDefault","setState","formError","state","current_password","target","msg","new_password","confirm_password","loading","success","axios","patch","API_URL","newPassword","oldPassword","console","log","errorToText","passwordDisplay","onSubmit","this","type","value","disabled","onChange","onClick","alertType","AlertType","DANGER","title","description","close","SUCCESS","Component"],"mappings":"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","file":"static/js/9.a432fb14.chunk.js","sourcesContent":["import React, { ReactNode } from \"react\";\n\ninterface MainContainerProps {\n  className?: string;\n  children: ReactNode;\n}\n\nconst MainContainer = (props: MainContainerProps) => {\n  return (\n    <div className={`bg-white rounded p-2 md:p-3 ${props.className}`}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default MainContainer;\n","import axios from \"axios\";\nimport React, { Component } from \"react\";\nimport { AiFillEye, AiOutlineEyeInvisible } from \"react-icons/ai\";\nimport { RiLockPasswordLine } from \"react-icons/ri\";\nimport Alert, { AlertType } from \"../../components/Alert/Alert\";\nimport MainContainer from \"../../components/MainContainer/MainContainer\";\nimport { API_URL } from \"../../utils/api\";\nimport { errorToText } from \"../../utils/functions\";\n\ninterface ChangePasswordProps {}\ninterface ChangePasswordState {\n  loading: boolean;\n  current_password: string;\n  new_password: string;\n  confirm_password: string;\n  formError: {\n    target: string;\n    msg: string;\n  } | null;\n  passwordDisplay: boolean;\n  success: string;\n}\n\nexport class ChangePassword extends Component<\n  ChangePasswordProps,\n  ChangePasswordState\n> {\n  constructor(props: ChangePasswordProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      current_password: \"\",\n      new_password: \"\",\n      confirm_password: \"\",\n      formError: null,\n      passwordDisplay: false,\n      success: \"\",\n    };\n  }\n  SubmitChangePassword = async (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    this.setState({ formError: null });\n    if (this.state.current_password === \"\") {\n      return this.setState({\n        formError: {\n          target: \"current_password\",\n          msg: \"Please fill current password!\",\n        },\n      });\n    }\n    if (this.state.new_password === \"\") {\n      return this.setState({\n        formError: {\n          target: \"new_password\",\n          msg: \"Please fill new password!\",\n        },\n      });\n    }\n    if (this.state.confirm_password === \"\") {\n      return this.setState({\n        formError: {\n          target: \"confirm_password\",\n          msg: \"Please fill confirm password!\",\n        },\n      });\n    }\n    if (this.state.new_password !== this.state.confirm_password) {\n      return this.setState({\n        formError: {\n          target: \"confirm_password\",\n          msg: \"Password does not match with your new password!\",\n        },\n      });\n    }\n    this.setState({ loading: true, formError: null, success: \"\" });\n    try {\n      const res = await axios.patch(`${API_URL}/user/change/password`, {\n        newPassword: this.state.new_password,\n        oldPassword: this.state.current_password,\n      });\n      if (res) {\n        this.setState({\n          success: \"Password has changed successfully!\",\n          loading: false,\n          formError: null,\n        });\n      }\n    } catch (error: any) {\n      console.log(\"Err: \", { ...error });\n      this.setState({\n        formError: { target: \"main\", msg: errorToText(error) },\n        success: \"\",\n        loading: false,\n      });\n    }\n  };\n  render() {\n    return (\n      <div className=\"\">\n        <MainContainer className=\"mt-3\">\n          <div className=\"flex flex-row items-center mb-4 p-2 md:p-3 md:pb-0\">\n            <div className=\"font-extrabold text-2xl text-black flex flex-row items-center gap-2\">\n              <div>\n                <RiLockPasswordLine className=\"text-3xl\" />\n              </div>\n              <span>Change Password</span>\n            </div>\n          </div>\n          <form onSubmit={this.SubmitChangePassword} className=\"w-full p-3\">\n            <div className=\"w-full md:w-2/3\">\n              <div className=\"flex flex-col gap-1 mb-3 w-full\">\n                <span className=\"font-light text-sm\">Current Password </span>\n                <div className=\"relative w-full\">\n                  <input\n                    type={\n                      this.state.passwordDisplay === true ? \"text\" : \"password\"\n                    }\n                    value={this.state.current_password}\n                    disabled={this.state.loading}\n                    onChange={(e) => {\n                      this.setState({\n                        current_password: e.target.value,\n                        formError: null,\n                      });\n                    }}\n                    className={`border ${\n                      this.state.formError?.target === \"current_password\"\n                        ? \"border-red-300\"\n                        : \"border-primary-700\"\n                    } ${\n                      this.state.loading === true ? \"cursor-not-allowed\" : \"\"\n                    } bg-white rounded-md px-3 py-2 w-full`}\n                  />\n                  <div\n                    onClick={() =>\n                      this.setState({\n                        passwordDisplay: !this.state.passwordDisplay,\n                      })\n                    }\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700\"\n                  >\n                    {this.state.passwordDisplay === false ? (\n                      <AiFillEye />\n                    ) : (\n                      <AiOutlineEyeInvisible />\n                    )}\n                  </div>\n                </div>\n                <div>\n                  {this.state.formError?.target === \"current_password\" && (\n                    <Alert\n                      alertType={AlertType.DANGER}\n                      title={\"Error Occurred\"}\n                      description={this.state.formError.msg}\n                      close={() => this.setState({ formError: null })}\n                    />\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col gap-1 mb-3 w-full\">\n                <span className=\"font-light text-sm\">New Password </span>\n                <div className=\"relative w-full\">\n                  <input\n                    type={\n                      this.state.passwordDisplay === true ? \"text\" : \"password\"\n                    }\n                    value={this.state.new_password}\n                    disabled={this.state.loading}\n                    onChange={(e) => {\n                      this.setState({\n                        new_password: e.target.value,\n                        formError: null,\n                      });\n                    }}\n                    className={`border ${\n                      this.state.formError?.target === \"new_password\"\n                        ? \"border-red-300\"\n                        : \"border-primary-700\"\n                    } ${\n                      this.state.loading === true ? \"cursor-not-allowed\" : \"\"\n                    } bg-white rounded-md px-3 py-2 w-full`}\n                  />\n                  <div\n                    onClick={() =>\n                      this.setState({\n                        passwordDisplay: !this.state.passwordDisplay,\n                      })\n                    }\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700\"\n                  >\n                    {this.state.passwordDisplay === false ? (\n                      <AiFillEye />\n                    ) : (\n                      <AiOutlineEyeInvisible />\n                    )}\n                  </div>\n                </div>\n                <div>\n                  {this.state.formError?.target === \"new_password\" && (\n                    <Alert\n                      alertType={AlertType.DANGER}\n                      title={\"Error Occurred\"}\n                      description={this.state.formError.msg}\n                      close={() => this.setState({ formError: null })}\n                    />\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col gap-1 mb-3 w-full\">\n                <span className=\"font-light text-sm\">Confirm Password </span>\n                <div className=\"relative w-full\">\n                  <input\n                    type={\n                      this.state.passwordDisplay === true ? \"text\" : \"password\"\n                    }\n                    value={this.state.confirm_password}\n                    disabled={this.state.loading}\n                    onChange={(e) => {\n                      this.setState({\n                        confirm_password: e.target.value,\n                        formError: null,\n                      });\n                    }}\n                    className={`border ${\n                      this.state.formError?.target === \"confirm_password\"\n                        ? \"border-red-300\"\n                        : \"border-primary-700\"\n                    } ${\n                      this.state.loading === true ? \"cursor-not-allowed\" : \"\"\n                    } bg-white rounded-md px-3 py-2 w-full`}\n                  />\n                  <div\n                    onClick={() =>\n                      this.setState({\n                        passwordDisplay: !this.state.passwordDisplay,\n                      })\n                    }\n                    className=\"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700\"\n                  >\n                    {this.state.passwordDisplay === false ? (\n                      <AiFillEye />\n                    ) : (\n                      <AiOutlineEyeInvisible />\n                    )}\n                  </div>\n                </div>\n                <div>\n                  {this.state.formError?.target === \"confirm_password\" && (\n                    <Alert\n                      alertType={AlertType.DANGER}\n                      title={\"Error Occurred\"}\n                      description={this.state.formError.msg}\n                      close={() => this.setState({ formError: null })}\n                    />\n                  )}\n                </div>\n              </div>\n              {this.state.formError?.target === \"main\" && (\n                <div className=\"w-full mb-2 -mt-2\">\n                  <Alert\n                    alertType={AlertType.DANGER}\n                    title={\"Action Failed\"}\n                    description={this.state.formError.msg}\n                    close={() => this.setState({ formError: null })}\n                  />\n                </div>\n              )}\n              {this.state.success !== \"\" && (\n                <div className=\"w-full mb-2 -mt-2\">\n                  <Alert\n                    alertType={AlertType.SUCCESS}\n                    title={\"Action succeeded\"}\n                    description={this.state.success}\n                    close={() => this.setState({ success: \"\" })}\n                  />\n                </div>\n              )}\n              <div>\n                <button\n                  type=\"submit\"\n                  disabled={this.state.loading}\n                  className={`px-3 py-2 rounded ${\n                    this.state.loading === true\n                      ? \"bg-gray-300 font-bold cursor-not-allowed\"\n                      : \"bg-primary-700 hover:bg-primary-900 text-white cursor-pointer\"\n                  } w-max`}\n                >\n                  {this.state.loading === true ? (\n                    <span className=\"animate__animated animate__fadeIn animate__faster animate__infinite\">\n                      Loading, please wait...\n                    </span>\n                  ) : (\n                    \"Change Password\"\n                  )}\n                </button>\n              </div>\n            </div>\n          </form>\n        </MainContainer>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""}