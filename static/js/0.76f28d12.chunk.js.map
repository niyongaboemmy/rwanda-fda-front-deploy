{"version":3,"sources":["components/MainContainer/MainContainer.tsx","components/Loading/Loading.tsx","components/ApplicationDetails/Assessment.tsx","components/ApplicationDetails/Screening.tsx","components/ApplicationDetails/PeerReview.tsx","components/ApplicationDetails/edit/EditScreening.tsx","components/ApplicationDetails/details/ScreeningDetails.tsx","components/ApplicationDetails/edit/EditPeerReview.tsx","components/ApplicationDetails/details/PeerReviewDetails.tsx","components/ApplicationDetails/edit/EditAssessment.tsx","components/ApplicationDetails/edit/EditQuery.tsx","components/ApplicationDetails/details/AssessmentDetails.tsx","components/ApplicationDetails/ApplicationStatus.tsx","components/ApplicationDetails/ApplicationDetailsDashboard/ApplicationDetailsDashboard.tsx","components/ApplicationDetails/ApplicationDetails.tsx","components/Modal/Modal.tsx","components/RegisterProduct/RegisterProduct.tsx","containers/CreateApplication/CreateApplication.tsx"],"names":["MainContainer","props","className","children","Loading","CurrentStatusEnum","GetLastScreeningValue","screenings","length","screeningNumberOfDays","feedback_date","date_of_screening_feedback","response_date","date_of_screening_response","ToDayDate","Date","console","log","DATE","timestampToDate","fullDATE","GetDaysFromTwoDates","toString","validateScreening30Days","FCGetScreeningStatusElement","screening_status","ScreeningStatusValues","PROGRESS_IN_SCREENING","SCREENING_COMPLETED","Screening","data","state","loading","error","onClick","openScreeningDetails","this","Component","GetLastPeerReviewValue","peerreviews","FCGetPeerReviewStatusElement","peerReview_status","toUpperCase","PeerReviewStatusValues","incomplete","approved","PeerReview","openPeerReview","comment","status","GetLastAssessmentValue","assessments","temp","i","push","round1DataL2","filter","itm","assessment_round","RoundValues","ROUND_ONE","assessment_level","LevelsValues","LEVEL_TWO","round2DataL2","ROUND_TWO","round3DataL2","ROUND_THREE","round4DataL2","ROUND_FOUR","round1DataL1","LEVEL_ONE","round2DataL1","round3DataL1","round4DataL1","RoundFour","RoundThree","RoundTwo","RoundOne","getLastQuery","last_assessment","undefined","last_query","assessmentqueries","find","queryAnsweringNumberOfDays","query_issued_date","query_response_date","validateQuery90Days","lastQuery","GetAssessmentStatusName","AssessmentOutcomeValues","NR","OG","R","GetRoundName","round","ApplicationCurrentState","NOT_SCREENED","SCREENING_PROCESS","NOT_ASSESSED","WAITING_FOR_ASSESSMENT","assessment_outcome","WAITING_TO_SEND_QUERY_ISSUE","WAITING_FOR_QUERY_RESPONSE","QUERY_RESPONSE_WAITING_FOR_ASSESSOR","WAITING_FOR_PEER_REVIEW","toLocaleLowerCase","registration_Status","RegistrationStates","REGISTERED","WAITING_FOR_REGISTRATION","NULL","GetDaysQueryWaitingForAssessment","last_date","FCGetAssessmentStatusElement","assessment_status","Assessment","FilterByRounds","selected_round","FindDataByLevelRound","level","res","validateAssessmentQuery","openAssessmentDetails","Math","EditScreening","SubmitScreening","e","preventDefault","application_id","setState","target","msg","application_ref_number","editScreening","done_by","data_saved","screening_feedback","screening_response","done_at","FC_UpdateScreening","feedback","type","success","onSave","modal","onGoBack","onSubmit","value","onChange","disabled","Alert","alertType","AlertType","DANGER","title","description","close","WITHDRAWN","map","item","SUCCESS","ScreeningSection","date","EmptyScreeningSection","ScreeningDetails","GetLastScreeningFeedBack","GetLastScreeningResponse","EditPeerReview","SubmitPeerReview","peer_review_status","FC_UpdatePeerReview","rejected","PeerReviewDetails","editReview","openPeerReviewDetails","EditAssessment","SubmitAssessment","assessment_start_date","assessment_end_date","assessment_comment","FC_UpdateAssessment","action_type","EditQuery","query_issued","query_response","selectedRound","FC_SendQuery","ValidateAssessmentRound","temp_data","test","ValidateQueryRound","GetEmptyQueryElement","GetQueryElement","days_status","allData","AssessmentDetails","iteration","FindQueriesByRound","GetLastQuery","componentDidMount","open_edit_assessment","selected_level","SetSelectQuery","openQuery","alert","ReturnAssessmentRoundDetails","waiting_status_component","RoundsArray","r","ApplicationStatus","ApplicationDetailsDashboard","TotalDownTime","total","down_time","commaFy","current_days","up_time","abs","getOutcomeValues","status_value","ApplicationDetails","DownloadRegistrationCertificate","DownloadCertificate","FC_SetSuccess","open_screening","open_peer_review","open_assessment","register_product","edit_application","CreateApplication","editData","display","onBack","onUpdate","reference_number","RegisterProduct","distribution_category","name_of_marketing_authorization_holder","name_of_the_active_ingredient","pack_size","pack_type","registration_number","shelf_life_in_month","storage_statement","therapeutic_indication","date_ma_certificate_issued_to_applicant","product_category","onClose","applicant_address","applicant_name","created_by","local_technical_representative","manufacturer_name_and_country","manufacturing_site_address","product_brand_name","product_common_name","product_dosage_form","product_strength","submission_date","Themes","ModalMarginTop","ModalSize","Modal","themeColor","backDrop","theme","backDropClose","widthSizeClass","displayClose","padding","body","footer","primary","secondary","danger","warning","marginTop","none","style","width","maxHeight","height","maxWidth","overflowY","margin","zIndex","default","FormInput","error_key_name","onCloseError","saveProductDetails","FC_RegisterProduct","_CreateApplication","auth","user","user_id","FC_CreateApplication","connect","system"],"mappings":"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","file":"static/js/0.76f28d12.chunk.js","sourcesContent":["import React, { ReactNode } from \"react\";\n\ninterface MainContainerProps {\n  className?: string;\n  children: ReactNode;\n}\n\nconst MainContainer = (props: MainContainerProps) => {\n  return (\n    <div className={`bg-white rounded p-2 md:p-3 ${props.className}`}>\n      {props.children}\n    </div>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\ninterface LoadingProps {}\nconst Loading = (props: LoadingProps) => {\n  return (\n    <div className=\"w-full mx-auto mb-12 px-4\">\n      <div className=\"animate-pulse flex space-x-4\">\n        <div className=\"flex-1 space-y-4 py-1\">\n          <div className={`h-2 bg-gray-200 rounded w-3/4`}></div>\n          <div className=\"space-y-2\">\n            <div className={`h-2 bg-gray-200 rounded`}></div>\n            <div className={`h-2 bg-gray-200 rounded w-5/6`}></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { Component } from \"react\";\nimport {\n  ApplicationDetailsInterface,\n  AssessmentOutcomeValues,\n  LevelsValues,\n  RoundValues,\n  AssessmentInterface,\n  ScreeningStatusValues,\n  PeerReviewStatusValues,\n  RegistrationStates,\n} from \"../../actions\";\nimport { BiAnalyse, BiLoaderCircle } from \"react-icons/bi\";\nimport { IoMdCheckmarkCircle } from \"react-icons/io\";\nimport { IoBanOutline } from \"react-icons/io5\";\nimport { RiErrorWarningLine } from \"react-icons/ri\";\nimport {\n  DATE,\n  GetDaysFromTwoDates,\n  timestampToDate,\n} from \"../../utils/functions\";\nimport { GetLastScreeningValue } from \"./Screening\";\nimport { GetLastPeerReviewValue } from \"./PeerReview\";\n\ninterface AssessmentProps {\n  data: ApplicationDetailsInterface;\n  openAssessmentDetails: (status: boolean) => void;\n}\ninterface AssessmentState {\n  loading: boolean;\n  error: {\n    target: \"assessment_status\";\n    msg: string;\n  } | null;\n}\n\nexport const GetLastAssessmentValue = (assessments: AssessmentInterface[]) => {\n  const temp = [];\n  let i = assessments.length === 0 ? -1 : assessments.length - 1;\n  while (i >= 0) {\n    temp.push(assessments[i]);\n    i = i - 1;\n  }\n  // lEVEL 2\n  const round1DataL2 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_ONE &&\n      itm.assessment_level === LevelsValues.LEVEL_TWO\n  );\n  const round2DataL2 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_TWO &&\n      itm.assessment_level === LevelsValues.LEVEL_TWO\n  );\n  const round3DataL2 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_THREE &&\n      itm.assessment_level === LevelsValues.LEVEL_TWO\n  );\n  const round4DataL2 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_FOUR &&\n      itm.assessment_level === LevelsValues.LEVEL_TWO\n  );\n\n  // lEVEL 1\n  const round1DataL1 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_ONE &&\n      itm.assessment_level === LevelsValues.LEVEL_ONE\n  );\n  const round2DataL1 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_TWO &&\n      itm.assessment_level === LevelsValues.LEVEL_ONE\n  );\n  const round3DataL1 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_THREE &&\n      itm.assessment_level === LevelsValues.LEVEL_ONE\n  );\n  const round4DataL1 = temp.filter(\n    (itm) =>\n      itm.assessment_round === RoundValues.ROUND_FOUR &&\n      itm.assessment_level === LevelsValues.LEVEL_ONE\n  );\n\n  if (\n    round1DataL2.length <= 0 &&\n    round2DataL2.length <= 0 &&\n    round3DataL2.length <= 0 &&\n    round4DataL2.length <= 0 &&\n    // ------------------------\n    round1DataL1.length <= 0 &&\n    round2DataL1.length <= 0 &&\n    round3DataL1.length <= 0 &&\n    round4DataL1.length <= 0\n  ) {\n    return null;\n  }\n\n  const RoundFour =\n    round4DataL2.length > 0\n      ? round4DataL2[round4DataL2.length - 1]\n      : round4DataL1.length > 0\n      ? round4DataL1[round4DataL1.length - 1]\n      : null;\n\n  const RoundThree =\n    round3DataL2.length > 0\n      ? round3DataL2[round3DataL2.length - 1]\n      : round3DataL1.length > 0\n      ? round3DataL1[round3DataL1.length - 1]\n      : null;\n  const RoundTwo =\n    round2DataL2.length > 0\n      ? round2DataL2[round2DataL2.length - 1]\n      : round2DataL1.length > 0\n      ? round2DataL1[round2DataL1.length - 1]\n      : null;\n  const RoundOne =\n    round1DataL2.length > 0\n      ? round1DataL2[round1DataL2.length - 1]\n      : round1DataL1.length > 0\n      ? round1DataL1[round1DataL1.length - 1]\n      : null;\n  const res =\n    RoundFour !== null\n      ? RoundFour\n      : RoundThree !== null\n      ? RoundThree\n      : RoundTwo !== null\n      ? RoundTwo\n      : RoundOne !== null\n      ? RoundOne\n      : null;\n  return res;\n};\n\nexport const getLastQuery = (data: ApplicationDetailsInterface) => {\n  const last_assessment = GetLastAssessmentValue(data.assessments);\n  if (last_assessment !== undefined) {\n    const last_query = data.assessmentqueries.find(\n      (itm) => itm.assessment_round === last_assessment?.assessment_round\n    );\n    if (last_query !== undefined) {\n      return last_query;\n    }\n  }\n  return null;\n};\n\n// Get time taken to respond query\n\nexport const queryAnsweringNumberOfDays = (\n  data: ApplicationDetailsInterface\n): number => {\n  const last_assessment = GetLastAssessmentValue(data.assessments);\n  if (last_assessment !== null) {\n    const last_query = data.assessmentqueries.find(\n      (itm) => itm.assessment_round === last_assessment?.assessment_round\n    );\n\n    if (last_query !== undefined) {\n      const query_issued_date = last_query.query_issued_date;\n      const query_response_date = last_query.query_response_date;\n      const ToDayDate = new Date();\n      let test = 0;\n      if (query_response_date === null || query_response_date === \"\") {\n        test = GetDaysFromTwoDates(\n          DATE(query_issued_date, \"MM/DD/YYYY\"),\n          DATE(timestampToDate(ToDayDate).fullDATE, \"MM/DD/YYYY\")\n        );\n      } else {\n        test = GetDaysFromTwoDates(\n          DATE(query_issued_date, \"MM/DD/YYYY\"),\n          DATE(query_response_date, \"MM/DD/YYYY\")\n        );\n      }\n      return test;\n    }\n  }\n  return 0;\n};\n\nexport const validateQuery90Days = (\n  data: ApplicationDetailsInterface\n): \"VALID\" | \"INVALID\" => {\n  const lastQuery = getLastQuery(data);\n  if (\n    lastQuery !== null &&\n    (lastQuery.query_response_date === null ||\n      lastQuery.query_response_date === \"\")\n  ) {\n    if (queryAnsweringNumberOfDays(data) > 90) {\n      return \"INVALID\";\n    }\n  }\n  return \"VALID\";\n};\n\nexport const GetAssessmentStatusName = (status: AssessmentOutcomeValues) => {\n  switch (status) {\n    case AssessmentOutcomeValues.NR:\n      return \"NOT RECOMMENDED\";\n    case AssessmentOutcomeValues.OG:\n      return \"ONGOING\";\n    case AssessmentOutcomeValues.R:\n      return \"RECOMMENDED\";\n  }\n};\n\nexport const GetLevelName = (level: LevelsValues) => {\n  if (level === LevelsValues.LEVEL_ONE) {\n    return \"First assessment\";\n  }\n  return \"Second assessment\";\n};\n\nexport const GetRoundName = (round: RoundValues) => {\n  if (round === RoundValues.ROUND_ONE) {\n    return \"Initial\";\n  }\n  if (round === RoundValues.ROUND_TWO) {\n    return \"First round\";\n  }\n  if (round === RoundValues.ROUND_THREE) {\n    return \"Second round\";\n  }\n  return \"Third round\";\n};\n\nexport enum CurrentStatusEnum {\n  NOT_SCREENED = \"NOT SCREENED\",\n  SCREENING_PROCESS = \"SCREENING PROCESS\",\n  NOT_ASSESSED = \"NOT ASSESSED\",\n  WAITING_FOR_ASSESSMENT = \"WAITING FOR ASSESSMENT\",\n  WAITING_TO_SEND_QUERY_ISSUE = \"WAITING TO SEND QUERY ISSUE\",\n  WAITING_FOR_QUERY_RESPONSE = \"WAITING FOR QUERY RESPONSE\",\n  QUERY_RESPONSE_WAITING_FOR_ASSESSOR = \"QUERY RESPONSE WAITING FOR ASSESSOR\",\n  WAITING_FOR_PEER_REVIEW = \"WAITING FOR PEER REVIEW\",\n  WAITING_FOR_REGISTRATION = \"WAITING FOR REGISTRATION\",\n  NULL = \"NULL\",\n}\n\nexport const ApplicationCurrentState = (\n  data: ApplicationDetailsInterface\n): CurrentStatusEnum => {\n  if (GetLastScreeningValue(data.screenings) === null) {\n    return CurrentStatusEnum.NOT_SCREENED;\n  }\n  if (\n    GetLastScreeningValue(data.screenings) !== null &&\n    GetLastScreeningValue(data.screenings)!.screening_status ===\n      ScreeningStatusValues.PROGRESS_IN_SCREENING\n  ) {\n    return CurrentStatusEnum.SCREENING_PROCESS;\n  }\n  if (\n    data.assessments.length === 0 &&\n    GetLastScreeningValue(data.screenings) !== null &&\n    GetLastScreeningValue(data.screenings)!.screening_status ===\n      ScreeningStatusValues.SCREENING_COMPLETED\n  ) {\n    return CurrentStatusEnum.NOT_ASSESSED;\n  }\n\n  if (\n    data.assessments.length % 2 !== 0 &&\n    GetLastAssessmentValue(data.assessments) !== null\n  ) {\n    return CurrentStatusEnum.WAITING_FOR_ASSESSMENT;\n  }\n\n  if (\n    data.assessments.length % 2 === 0 &&\n    getLastQuery(data) === null &&\n    GetLastAssessmentValue(data.assessments) !== null &&\n    GetLastAssessmentValue(data.assessments)!.assessment_outcome ===\n      AssessmentOutcomeValues.OG &&\n    GetLastAssessmentValue(data.assessments)?.assessment_level ===\n      LevelsValues.LEVEL_TWO\n  ) {\n    return CurrentStatusEnum.WAITING_TO_SEND_QUERY_ISSUE;\n  }\n  if (\n    data.assessments.length % 2 === 0 &&\n    data.assessmentqueries.length > 0 &&\n    GetLastAssessmentValue(data.assessments) !== null &&\n    GetLastAssessmentValue(data.assessments)!.assessment_outcome ===\n      AssessmentOutcomeValues.OG &&\n    getLastQuery(data) !== null &&\n    (getLastQuery(data)!.query_response_date === null ||\n      getLastQuery(data)!.query_response_date === \"\")\n  ) {\n    return CurrentStatusEnum.WAITING_FOR_QUERY_RESPONSE;\n  }\n  if (\n    data.assessments.length > 1 &&\n    data.assessments.length > 1 &&\n    GetLastAssessmentValue(data.assessments) !== null &&\n    GetLastAssessmentValue(data.assessments)!.assessment_outcome ===\n      AssessmentOutcomeValues.OG &&\n    getLastQuery(data) !== null &&\n    getLastQuery(data)!.query_response_date !== null &&\n    getLastQuery(data)!.query_response_date !== \"\"\n  ) {\n    return CurrentStatusEnum.QUERY_RESPONSE_WAITING_FOR_ASSESSOR;\n  }\n  if (\n    GetLastAssessmentValue(data.assessments)?.assessment_outcome ===\n      AssessmentOutcomeValues.R &&\n    GetLastPeerReviewValue(data) === null\n  ) {\n    return CurrentStatusEnum.WAITING_FOR_PEER_REVIEW;\n  }\n  if (\n    GetLastAssessmentValue(data.assessments)?.assessment_outcome ===\n      AssessmentOutcomeValues.R &&\n    GetLastPeerReviewValue(data) !== null &&\n    GetLastPeerReviewValue(data)?.status.toLocaleLowerCase() ===\n      PeerReviewStatusValues.approved.toLocaleLowerCase() &&\n    data.registration_Status !== RegistrationStates.REGISTERED\n  ) {\n    return CurrentStatusEnum.WAITING_FOR_REGISTRATION;\n  }\n  return CurrentStatusEnum.NULL;\n};\n\nexport const GetDaysQueryWaitingForAssessment = (\n  data: ApplicationDetailsInterface\n) => {\n  if (\n    ApplicationCurrentState(data) ===\n    CurrentStatusEnum.QUERY_RESPONSE_WAITING_FOR_ASSESSOR\n  ) {\n    // Get last query\n    const lastQuery = getLastQuery(data);\n    if (\n      lastQuery !== null &&\n      lastQuery.query_response_date !== null &&\n      lastQuery.query_response_date !== \"\"\n    ) {\n      const last_date = lastQuery.query_response_date;\n      const ToDayDate = new Date();\n      return GetDaysFromTwoDates(\n        DATE(last_date, \"MM/DD/YYYY\"),\n        DATE(timestampToDate(ToDayDate).fullDATE, \"MM/DD/YYYY\")\n      );\n    }\n  }\n  return 0;\n};\n\nexport const FCGetAssessmentStatusElement = (props: {\n  assessment_status: AssessmentOutcomeValues;\n  loading: boolean;\n}) => {\n  if (props.assessment_status === AssessmentOutcomeValues.OG) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-primary-100 text-primary-900 border border-blue-400 font-bold text-xs pr-3 w-max h-max\">\n        {props.loading === true && (\n          <div>\n            <BiLoaderCircle className={`text-2xl animate-spin`} />\n          </div>\n        )}\n        <div>\n          {props.loading === false ? (\n            <div className=\"px-4 py-0\">\n              {GetAssessmentStatusName(props.assessment_status)}\n            </div>\n          ) : (\n            GetAssessmentStatusName(props.assessment_status)\n          )}\n        </div>\n      </div>\n    );\n  }\n  if (props.assessment_status === AssessmentOutcomeValues.R) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-green-50 text-green-700 border border-green-400 font-bold text-xs pr-3 w-max h-max\">\n        <div>\n          <IoMdCheckmarkCircle className=\"text-2xl\" />\n        </div>\n        <div>{GetAssessmentStatusName(props.assessment_status)}</div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-red-50 text-red-700 border border-red-400 font-bold text-xs pr-3 w-max h-max\">\n      <div>\n        <IoBanOutline className=\"text-xl\" />\n      </div>\n      <div>{GetAssessmentStatusName(props.assessment_status)}</div>\n    </div>\n  );\n};\n\nexport class Assessment extends Component<AssessmentProps, AssessmentState> {\n  constructor(props: AssessmentProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n    };\n  }\n\n  FilterByRounds = (selected_round: RoundValues) => {\n    return this.props.data.assessments.filter(\n      (itm) => itm.assessment_round === selected_round\n    );\n  };\n  FindDataByLevelRound = (level: LevelsValues, selected_round: RoundValues) => {\n    const temp = [];\n    let i =\n      this.props.data.assessments.length === 0\n        ? -1\n        : this.props.data.assessments.length - 1;\n    while (i >= 0) {\n      temp.push(this.props.data.assessments[i]);\n      i = i - 1;\n    }\n    const res = temp.find(\n      (itm) =>\n        itm.assessment_level === level &&\n        itm.assessment_round === selected_round\n    );\n    if (res === undefined) {\n      return null;\n    }\n    return res;\n  };\n  validateAssessmentQuery = () => {\n    if (\n      this.props.data.assessmentqueries.length > 0 &&\n      getLastQuery(this.props.data) !== null &&\n      validateQuery90Days(this.props.data) === \"INVALID\" &&\n      (getLastQuery(this.props.data)!.query_response_date === null ||\n        getLastQuery(this.props.data)!.query_response_date !== \"\")\n    ) {\n      return false;\n    }\n    return true;\n  };\n  render() {\n    return (\n      <div>\n        <div\n          onClick={() => this.props.openAssessmentDetails(true)}\n          className=\"rounded-md p-2 flex flex-row gap-2 justify-between bg-white border hover:border-primary-300 hover:bg-primary-50 hover:text-primary-900 group cursor-pointer\"\n        >\n          <div className=\"flex flex-row gap-2 justify-between items-center w-full\">\n            <div className=\"flex flex-row items-center gap-3\">\n              <div className=\"\">\n                <div\n                  className={`h-16 w-16 rounded-md border ${\n                    GetLastAssessmentValue(this.props.data.assessments) === null\n                      ? \"bg-gray-100 border-gray-100\"\n                      : this.validateAssessmentQuery() === false\n                      ? \"bg-red-100 border-red-300\"\n                      : \"bg-primary-100 border-primary-100\"\n                  } group-hover:bg-white group-hover:border-primary-100 flex items-center justify-center`}\n                >\n                  <BiAnalyse\n                    className={`text-5xl ${\n                      GetLastAssessmentValue(this.props.data.assessments) ===\n                      null\n                        ? \"text-gray-300\"\n                        : this.validateAssessmentQuery() === false\n                        ? \"text-red-700\"\n                        : \"text-primary-700\"\n                    } group-hover:text-primary-800`}\n                  />\n                </div>\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"font-bold text-base cursor-pointer\">\n                  {GetLastAssessmentValue(this.props.data.assessments) === null\n                    ? \"Assessment progress\"\n                    : GetLevelName(\n                        GetLastAssessmentValue(this.props.data.assessments)!\n                          .assessment_level\n                      )}\n                </span>\n                <span className=\"text-xs font-light\">\n                  Current round of assessment\n                </span>\n                {GetLastAssessmentValue(this.props.data.assessments) ===\n                null ? (\n                  <div className=\"font-semibold text-sm text-gray-400 group-hover:text-yellow-700\">\n                    No details found!\n                  </div>\n                ) : (\n                  <div className=\"text-xs font-light flex flex-row items-center gap-2\">\n                    {this.validateAssessmentQuery() === false ? (\n                      <div className=\"px-2 py-1 w-max rounded-full font-bold text-xs bg-red-700 text-white animate__animated animate__bounceIn animate__infinite\">\n                        Feedback waiting months:{\" \"}\n                        {Math.round(\n                          queryAnsweringNumberOfDays(this.props.data) / 30\n                        )}\n                      </div>\n                    ) : (\n                      GetDaysQueryWaitingForAssessment(this.props.data) <=\n                        60 && (\n                        <div>\n                          <div className=\"rounded-full bg-primary-100 text-primary-900 font-semibold w-max px-2 py-1 text-xs group-hover:bg-primary-800 group-hover:text-white\">\n                            {GetRoundName(\n                              GetLastAssessmentValue(\n                                this.props.data.assessments\n                              )!.assessment_round\n                            )}\n                          </div>\n                        </div>\n                      )\n                    )}\n                    {/* Check queries */}\n                    {ApplicationCurrentState(this.props.data) ===\n                      CurrentStatusEnum.QUERY_RESPONSE_WAITING_FOR_ASSESSOR &&\n                      GetDaysQueryWaitingForAssessment(this.props.data) >\n                        60 && (\n                        <div className=\"px-2 py-1 w-max rounded-full font-bold text-xs bg-red-700 text-white animate__animated animate__bounceIn animate__infinite\">\n                          Query is waiting for :{\" \"}\n                          {Math.round(\n                            GetDaysQueryWaitingForAssessment(this.props.data) /\n                              30\n                          )}{\" \"}\n                          months\n                        </div>\n                      )}\n                  </div>\n                )}\n              </div>\n            </div>\n            {/* Status */}\n            <div>\n              {GetLastAssessmentValue(this.props.data.assessments) === null ? (\n                <div className=\"flex flex-row items-center gap-1 rounded-full p-1 bg-yellow-50 text-yellow-700 border border-yellow-200 font-bold text-xs pr-3\">\n                  <div>\n                    <RiErrorWarningLine className=\"text-2xl animate__animated animate__zoomIn animate__infinite\" />\n                  </div>\n                  <div>{\"Not assessed\"}</div>\n                </div>\n              ) : (\n                GetLastAssessmentValue(this.props.data.assessments) !==\n                  null && (\n                  <FCGetAssessmentStatusElement\n                    assessment_status={\n                      GetLastAssessmentValue(this.props.data.assessments)!\n                        .assessment_outcome\n                    }\n                    loading={\n                      GetLastAssessmentValue(this.props.data.assessments)\n                        ?.assessment_level !== LevelsValues.LEVEL_ONE\n                        ? false\n                        : true\n                    }\n                  />\n                )\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Assessment;\n","import React, { Component } from \"react\";\nimport {\n  ApplicationDetailsInterface,\n  ScreeningInterface,\n  ScreeningStatusValues,\n} from \"../../actions\";\nimport { BiLoaderCircle } from \"react-icons/bi\";\nimport { IoMdCheckmarkCircle } from \"react-icons/io\";\nimport { IoBanOutline, IoDocumentAttachOutline } from \"react-icons/io5\";\nimport { RiErrorWarningLine } from \"react-icons/ri\";\nimport {\n  DATE,\n  GetDaysFromTwoDates,\n  timestampToDate,\n} from \"../../utils/functions\";\n\nexport const GetLastScreeningValue = (screenings: ScreeningInterface[]) => {\n  if (screenings.length <= 0) {\n    return null;\n  }\n  const res = screenings[screenings.length - 1];\n  return res;\n};\n\nexport const screeningNumberOfDays = (\n  screenings: ScreeningInterface[]\n): number => {\n  const feedback_date =\n    GetLastScreeningValue(screenings)!.date_of_screening_feedback;\n  const response_date =\n    GetLastScreeningValue(screenings)!.date_of_screening_response;\n  const ToDayDate = new Date();\n  console.log(\"ToDayDate: \", ToDayDate);\n  console.log(\n    \"New date: \",\n    DATE(timestampToDate(ToDayDate).fullDATE, \"MM/DD/YYYY\"),\n    DATE(response_date, \"MM/DD/YYYY\")\n  );\n\n  if (\n    (response_date === null || response_date === \"\") &&\n    feedback_date !== null\n  ) {\n    return GetDaysFromTwoDates(\n      DATE(feedback_date!, \"MM/DD/YYYY\"),\n      DATE(timestampToDate(ToDayDate).fullDATE, \"MM/DD/YYYY\")\n    );\n  }\n  return feedback_date === null\n    ? 0\n    : GetDaysFromTwoDates(\n        DATE(feedback_date!.toString(), \"MM/DD/YYYY\"),\n        DATE(response_date, \"MM/DD/YYYY\")\n      );\n};\n\nexport const validateScreening30Days = (\n  screenings: ScreeningInterface[]\n): \"VALID\" | \"INVALID\" => {\n  const date_of_screening_response =\n    GetLastScreeningValue(screenings)!.date_of_screening_response;\n  if (\n    date_of_screening_response === null ||\n    date_of_screening_response === \"\"\n  ) {\n    if (screeningNumberOfDays(screenings) > 30) {\n      return \"INVALID\";\n    }\n  }\n  return \"VALID\";\n};\n\ninterface ScreeningProps {\n  data: ApplicationDetailsInterface;\n  openScreeningDetails: (status: boolean) => void;\n}\ninterface ScreeningState {\n  loading: boolean;\n  error: {\n    target:\n      | \"date_of_screening\"\n      | \"date_of_screening_response\"\n      | \"screening_status\";\n    msg: string;\n  } | null;\n}\n\nexport const FCGetScreeningStatusElement = (props: {\n  screening_status: ScreeningStatusValues;\n}) => {\n  if (props.screening_status === ScreeningStatusValues.PROGRESS_IN_SCREENING) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-primary-100 text-primary-900 border border-primary-300 font-bold text-xs pr-3 w-max\">\n        <div>\n          <BiLoaderCircle className=\"text-2xl animate-spin\" />\n        </div>\n        <div>{props.screening_status}</div>\n      </div>\n    );\n  }\n  if (props.screening_status === ScreeningStatusValues.SCREENING_COMPLETED) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-green-50 text-green-700 border border-green-400 font-bold text-xs pr-3 w-max\">\n        <div>\n          <IoMdCheckmarkCircle className=\"text-2xl\" />\n        </div>\n        <div>{props.screening_status}</div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-red-50 text-red-700 border border-red-400 font-bold text-xs pr-3 w-max\">\n      <div>\n        <IoBanOutline className=\"text-2xl\" />\n      </div>\n      <div>{props.screening_status}</div>\n    </div>\n  );\n};\n\nexport class Screening extends Component<ScreeningProps, ScreeningState> {\n  constructor(props: ScreeningProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n    };\n  }\n  GetLastScreeningValue = () => {\n    if (this.props.data.screenings.length <= 0) {\n      return null;\n    }\n    const res =\n      this.props.data.screenings[this.props.data.screenings.length - 1];\n    return res;\n  };\n\n  screeningNumberOfDays = (): number => {\n    return screeningNumberOfDays(this.props.data.screenings);\n  };\n\n  validateScreening30Days = (): \"VALID\" | \"INVALID\" => {\n    return validateScreening30Days(this.props.data.screenings);\n  };\n  render() {\n    return (\n      <div>\n        <div\n          onClick={() => this.props.openScreeningDetails(true)}\n          className=\"rounded-md p-2 flex flex-row gap-2 justify-between bg-white border hover:border-primary-300 hover:bg-primary-50 hover:text-primary-900 group cursor-pointer\"\n        >\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                className={`h-16 w-16 rounded-md border ${\n                  this.GetLastScreeningValue() === null\n                    ? \"bg-gray-100 border-gray-100\"\n                    : this.validateScreening30Days() === \"INVALID\"\n                    ? \"bg-red-100 border-red-300\"\n                    : \"bg-primary-100 border-primary-100\"\n                } group-hover:bg-white group-hover:border-primary-100 flex items-center justify-center`}\n              >\n                <IoDocumentAttachOutline\n                  className={`text-5xl ${\n                    this.GetLastScreeningValue() === null\n                      ? \"text-gray-300\"\n                      : this.validateScreening30Days() === \"INVALID\"\n                      ? \"text-red-700 animate__animated animate__bounceIn\"\n                      : \"text-primary-700\"\n                  } group-hover:text-primary-800`}\n                />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"font-bold text-base cursor-pointer hover:text-primary-800\">\n                Screening progress\n              </span>\n              {this.GetLastScreeningValue() === null ? (\n                <div className=\"font-semibold text-sm text-gray-400 group-hover:text-yellow-700\">\n                  No details found!\n                </div>\n              ) : (\n                <div>\n                  {this.GetLastScreeningValue()!.date_of_screening_feedback !==\n                    null && (\n                    <div className=\"flex flex-row items-center text-xs gap-2\">\n                      <span className=\"font-light group-hover:text-primary-900\">\n                        Feedback date:{\" \"}\n                      </span>\n                      <span className=\"font-semibold\">\n                        {DATE(\n                          this.GetLastScreeningValue()!\n                            .date_of_screening_feedback!\n                        )}\n                      </span>\n                    </div>\n                  )}\n                  {this.GetLastScreeningValue()!.date_of_screening_response ===\n                  null ? (\n                    <div className=\"font-semibold text-sm text-gray-400 group-hover:text-yellow-700\">\n                      No response found!\n                    </div>\n                  ) : (\n                    <div className=\"flex flex-row items-center text-xs gap-2\">\n                      {/* <span className=\"font-light group-hover:text-primary-900\">\n                        Response date:{\" \"}\n                      </span>\n                      <span className=\"font-semibold\">\n                        {DATE(\n                          this.GetLastScreeningValue()!\n                            .date_of_screening_response!\n                        )}\n                      </span> */}\n                    </div>\n                  )}\n                  {this.GetLastScreeningValue() !== null &&\n                    this.GetLastScreeningValue()!.date_of_screening_response !==\n                      null &&\n                    this.GetLastScreeningValue()!.date_of_screening_feedback !==\n                      null &&\n                    this.GetLastScreeningValue()!.date_of_screening_feedback !==\n                      \"\" && (\n                      <div\n                        className={`text-xs font-bold px-2 py-1 w-max rounded-full bg-primary-100 text-primary-900 group-hover:bg-primary-800 group-hover:text-white`}\n                      >\n                        Number of days: {this.screeningNumberOfDays()}\n                      </div>\n                    )}\n                  {this.GetLastScreeningValue() !== null &&\n                    (this.GetLastScreeningValue()!\n                      .date_of_screening_response === null ||\n                      this.GetLastScreeningValue()!\n                        .date_of_screening_response === \"\") && (\n                      <div\n                        className={`text-xs font-bold px-2 py-1 w-max rounded-full ${\n                          this.validateScreening30Days() === \"VALID\"\n                            ? \"bg-primary-100 text-primary-900 group-hover:bg-primary-800 group-hover:text-white\"\n                            : \"bg-red-600 text-white animate__animated animate__jello animate__infinite\"\n                        }`}\n                      >\n                        Days passed: {this.screeningNumberOfDays()}\n                      </div>\n                    )}\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex flex-col items-end justify-center gap-2\">\n            {this.GetLastScreeningValue() === null ? (\n              <div className=\"flex flex-row items-center gap-1 rounded-full p-1 bg-yellow-50 text-yellow-700 border border-yellow-200 font-bold text-xs pr-3\">\n                <div>\n                  <RiErrorWarningLine className=\"text-2xl animate__animated animate__zoomIn animate__infinite\" />\n                </div>\n                <div>{\"Not screened\"}</div>\n              </div>\n            ) : (\n              <FCGetScreeningStatusElement\n                screening_status={\n                  this.GetLastScreeningValue()!.screening_status\n                }\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Screening;\n","import React, { Component } from \"react\";\nimport {\n  ApplicationDetailsInterface,\n  PeerReviewStatusValues,\n} from \"../../actions\";\nimport { IoMdCheckmarkCircle } from \"react-icons/io\";\nimport { IoBanOutline } from \"react-icons/io5\";\nimport { RiErrorWarningLine } from \"react-icons/ri\";\nimport { MdLockOpen } from \"react-icons/md\";\n\ninterface PeerReviewProps {\n  data: ApplicationDetailsInterface;\n  openPeerReview: (status: boolean) => void;\n}\ninterface ScreeningState {\n  loading: boolean;\n  error: {\n    target:\n      | \"date_of_screening\"\n      | \"date_of_screening_response\"\n      | \"screening_status\";\n    msg: string;\n  } | null;\n}\n\nexport const GetLastPeerReviewValue = (data: ApplicationDetailsInterface) => {\n  if (data.peerreviews.length <= 0) {\n    return null;\n  }\n  const res = data.peerreviews[data.peerreviews.length - 1];\n  return res;\n};\n\nexport const FCGetPeerReviewStatusElement = (props: {\n  peerReview_status: PeerReviewStatusValues;\n}) => {\n  if (\n    props.peerReview_status.toUpperCase() ===\n    PeerReviewStatusValues.incomplete.toUpperCase()\n  ) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-gray-50 text-gray-700 border border-gray-300 font-bold text-xs pr-3 w-max\">\n        <div>\n          <RiErrorWarningLine className=\"text-2xl animate-pulse\" />\n        </div>\n        <div>{props.peerReview_status.toUpperCase()}</div>\n      </div>\n    );\n  }\n  if (\n    props.peerReview_status.toUpperCase() ===\n    PeerReviewStatusValues.approved.toUpperCase()\n  ) {\n    return (\n      <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-green-50 text-green-700 border border-green-400 font-bold text-xs pr-3 w-max\">\n        <div>\n          <IoMdCheckmarkCircle className=\"text-2xl\" />\n        </div>\n        <div>{props.peerReview_status.toUpperCase()}</div>\n      </div>\n    );\n  }\n  return (\n    <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-red-50 text-red-700 border border-red-400 font-bold text-xs pr-3 w-max\">\n      <div>\n        <IoBanOutline className=\"text-2xl\" />\n      </div>\n      <div>{props.peerReview_status.toUpperCase()}</div>\n    </div>\n  );\n};\n\nexport class PeerReview extends Component<PeerReviewProps, ScreeningState> {\n  constructor(props: PeerReviewProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n    };\n  }\n  GetLastPeerReviewValue = () => {\n    if (this.props.data.peerreviews.length <= 0) {\n      return null;\n    }\n    const res =\n      this.props.data.peerreviews[this.props.data.peerreviews.length - 1];\n    return res;\n  };\n  render() {\n    return (\n      <div>\n        <div\n          onClick={() => this.props.openPeerReview(true)}\n          className=\"rounded-md p-2 flex flex-row gap-2 justify-between bg-white border hover:border-primary-300 hover:bg-primary-50 hover:text-primary-900 group cursor-pointer\"\n        >\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                className={`h-16 w-16 rounded-md border ${\n                  this.GetLastPeerReviewValue() === null\n                    ? \"bg-gray-100 border-gray-100\"\n                    : \"bg-primary-100 border-primary-100\"\n                } group-hover:bg-white group-hover:border-primary-100 flex items-center justify-center`}\n              >\n                <MdLockOpen\n                  className={`text-5xl ${\n                    this.GetLastPeerReviewValue() === null\n                      ? \"text-gray-300\"\n                      : \"text-primary-700\"\n                  } group-hover:text-primary-800`}\n                />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"font-bold text-base cursor-pointer hover:text-primary-800\">\n                Peer review progress\n              </span>\n              {this.GetLastPeerReviewValue() === null ? (\n                <div className=\"font-semibold text-sm text-gray-400 group-hover:text-yellow-700\">\n                  No details found!\n                </div>\n              ) : (\n                <div>\n                  <div className=\"flex flex-col text-xs\">\n                    <span className=\" group-hover:text-primary-900\">\n                      Peer review comment:\n                    </span>\n                    {this.GetLastPeerReviewValue()!.comment !== \"\" ? (\n                      <span className=\"font-light\">\n                        {this.GetLastPeerReviewValue()!.comment}\n                      </span>\n                    ) : (\n                      <span className=\"font-semibold text-gray-400\">\n                        No comment found\n                      </span>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n          <div className=\"flex flex-col items-end justify-center gap-2\">\n            {this.GetLastPeerReviewValue() === null ? (\n              <div className=\"flex flex-row items-center gap-1 rounded-full p-1 bg-yellow-50 text-yellow-700 border border-yellow-200 font-bold text-xs pr-3\">\n                <div>\n                  <RiErrorWarningLine className=\"text-2xl animate__animated animate__zoomIn animate__infinite\" />\n                </div>\n                <div>{\"Not reviewed\"}</div>\n              </div>\n            ) : (\n              <FCGetPeerReviewStatusElement\n                peerReview_status={this.GetLastPeerReviewValue()!.status}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default PeerReview;\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft, BsCheckCircleFill } from \"react-icons/bs\";\nimport { MdRadioButtonUnchecked, MdSave } from \"react-icons/md\";\nimport {\n  ApplicationDetailsInterface,\n  FC_UpdateScreening,\n  ScreeningStatusValues,\n} from \"../../../actions\";\nimport {\n  DATE,\n  GetDaysFromTwoDates,\n  timestampToDate,\n} from \"../../../utils/functions\";\nimport Alert, { AlertType } from \"../../Alert/Alert\";\n\ninterface EditScreeningProps {\n  onGoBack: () => void;\n  onSave: (reference_number: string) => void;\n  data: ApplicationDetailsInterface;\n  editScreening: \"FeedBack\" | \"Response\" | \"Status\";\n  modal: boolean;\n}\ninterface EditScreeningState {\n  loading: boolean;\n  success: string;\n  error: {\n    target:\n      | \"screening_feedback\"\n      | \"date_of_screening_feedback\"\n      | \"screening_response\"\n      | \"date_of_screening_response\"\n      | \"screening_status\"\n      | \"done_by\"\n      | \"done_at\"\n      | \"main\";\n    msg: string;\n  } | null;\n  application_id: string;\n  application_ref_number: string;\n  screening_feedback: string;\n  date_of_screening_feedback: string;\n  screening_response: string;\n  date_of_screening_response: string | null;\n  screening_status: ScreeningStatusValues;\n  done_by: string;\n  done_at: string;\n}\n\nexport class EditScreening extends Component<\n  EditScreeningProps,\n  EditScreeningState\n> {\n  constructor(props: EditScreeningProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n      success: \"\",\n      application_id: this.props.data.application_id,\n      application_ref_number: this.props.data.application_ref_number,\n      screening_feedback:\n        this.props.data.screenings.length === 0\n          ? \"\"\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .screening_feedback,\n      date_of_screening_feedback:\n        this.props.data.screenings.length === 0 ||\n        this.props.data.screenings[this.props.data.screenings.length - 1]\n          .date_of_screening_feedback === null\n          ? \"\"\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .date_of_screening_feedback!,\n      screening_response:\n        this.props.data.screenings.length === 0\n          ? \"\"\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .screening_response,\n      date_of_screening_response:\n        this.props.data.screenings.length === 0\n          ? \"\"\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .date_of_screening_response,\n      screening_status:\n        this.props.data.screenings.length === 0\n          ? ScreeningStatusValues.PROGRESS_IN_SCREENING\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .screening_status,\n      done_by:\n        this.props.data.screenings.length === 0 ||\n        this.props.data.screenings[this.props.data.screenings.length - 1]\n          .done_by === undefined\n          ? \"\"\n          : this.props.data.screenings[this.props.data.screenings.length - 1]\n              .done_by!,\n      done_at: \"\",\n    };\n  }\n  SubmitScreening = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.application_id === \"\") {\n      return this.setState({\n        error: { target: \"main\", msg: \"Please select application ID\" },\n      });\n    }\n    if (this.state.application_ref_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"main\",\n          msg: \"Please select application reference number!\",\n        },\n      });\n    }\n    if (\n      this.state.date_of_screening_feedback === \"\" &&\n      this.props.editScreening === \"FeedBack\"\n    ) {\n      return this.setState({\n        error: {\n          target: \"date_of_screening_feedback\",\n          msg: \"Please select date of screening feedback!\",\n        },\n      });\n    }\n    if (\n      this.state.date_of_screening_response === \"\" &&\n      this.props.editScreening === \"Response\"\n    ) {\n      return this.setState({\n        error: {\n          target: \"date_of_screening_response\",\n          msg: \"Please select date of screening response!\",\n        },\n      });\n    }\n    if (\n      this.state.date_of_screening_response !== null &&\n      GetDaysFromTwoDates(\n        DATE(this.state.date_of_screening_response, \"MM/DD/YYYY\"),\n        DATE(timestampToDate(new Date()).fullDATE, \"MM/DD/YYYY\")\n      ) < 0\n    ) {\n      return this.setState({\n        error: {\n          target: \"date_of_screening_response\",\n          msg: \"Please this date should be less than or equal to today date!\",\n        },\n      });\n    }\n    if (this.state.done_by === \"\") {\n      return this.setState({\n        error: {\n          target: \"done_by\",\n          msg: \"Please type names of who did screening!\",\n        },\n      });\n    }\n    if (\n      this.state.date_of_screening_response !== \"\" &&\n      this.state.date_of_screening_response !== null &&\n      this.state.date_of_screening_feedback !== null &&\n      this.state.date_of_screening_feedback !== \"\"\n    ) {\n      if (\n        GetDaysFromTwoDates(\n          DATE(this.state.date_of_screening_feedback, \"MM/DD/YYYY\"),\n          DATE(this.state.date_of_screening_response, \"MM/DD/YYYY\")\n        ) < 0\n      ) {\n        return this.setState({\n          error: {\n            target: \"date_of_screening_feedback\",\n            msg: \"Please choose the correct date, the date should be greater than or equal to response date!\",\n          },\n        });\n      }\n    }\n    // Saving\n    this.setState({ loading: true });\n    const data_saved = {\n      application_id: this.state.application_id,\n      application_ref_number: this.state.application_ref_number,\n      date_of_screening_feedback:\n        this.state.date_of_screening_feedback === \"\" ||\n        this.state.date_of_screening_response === null\n          ? null\n          : DATE(this.state.date_of_screening_feedback, \"YYYY/MM/DD\"),\n      date_of_screening_response:\n        this.state.date_of_screening_response === \"\" ||\n        this.state.date_of_screening_response === null\n          ? null\n          : DATE(this.state.date_of_screening_response, \"YYYY/MM/DD\"),\n      screening_feedback:\n        this.state.screening_feedback === \"\"\n          ? \"Submitted with no comment\"\n          : this.state.screening_feedback,\n      screening_response:\n        this.state.screening_response === \"\"\n          ? \"Submitted with no comment\"\n          : this.state.screening_response,\n      screening_status: this.state.screening_status,\n      done_by: this.state.done_by,\n      done_at: this.state.done_at,\n    };\n    console.log(\"Submitted: \", data_saved);\n    FC_UpdateScreening(\n      data_saved,\n      (\n        loading: boolean,\n        feedback: {\n          type: \"success\" | \"error\";\n          msg: string;\n        } | null\n      ) => {\n        this.setState({\n          loading: loading,\n        });\n        if (loading === false) {\n          if (feedback !== null) {\n            if (feedback.type === \"success\") {\n              this.setState({\n                error: null,\n                success: feedback.msg,\n                date_of_screening_feedback: \"\",\n                date_of_screening_response: \"\",\n                screening_feedback: \"\",\n                screening_response: \"\",\n              });\n              //   OnSave\n              this.props.onSave(this.state.application_ref_number);\n            }\n            if (feedback.type === \"error\") {\n              this.setState({\n                error: {\n                  target: \"main\",\n                  msg: feedback.msg,\n                },\n                success: \"\",\n              });\n            }\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <div\n          className={`${\n            this.props.modal === true ? \"bg-gray-200\" : \"bg-white\"\n          } rounded-md p-3 animate__animated animate__fadeIn`}\n        >\n          {/* Title here */}\n          <div></div>\n          {/* Details */}\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                onClick={this.props.onGoBack}\n                className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n              >\n                <BsArrowLeft className=\"text-3xl\" />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"text-xl font-extrabold\">\n                Add screening {this.props.editScreening} information\n              </span>\n              <span className=\"text-xs\">\n                Fill the following fields to updated the system about screening\n              </span>\n            </div>\n          </div>\n          <form\n            onSubmit={this.SubmitScreening}\n            className=\"grid grid-cols-12 gap-3 mt-5\"\n          >\n            {this.props.editScreening === \"FeedBack\" && (\n              <div className=\"col-span-6\">\n                <div className=\"flex flex-col w-full\">\n                  <span className=\"text-sm\">Date of screening feedback</span>\n                  <input\n                    type=\"date\"\n                    value={DATE(\n                      this.state.date_of_screening_feedback,\n                      \"YYYY/MM/DD\"\n                    )}\n                    onChange={(e) => {\n                      this.setState({\n                        date_of_screening_feedback: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"date_of_screening_feedback\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target ===\n                      \"date_of_screening_feedback\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n                {/* Description here */}\n                <div className=\"flex flex-col w-full mt-3\">\n                  <span className=\"text-sm\">Screening feedback (Optional)</span>\n                  <textarea\n                    value={this.state.screening_feedback}\n                    onChange={(e) => {\n                      this.setState({\n                        screening_feedback: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"screening_feedback\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  ></textarea>\n                  {this.state.error !== null &&\n                    this.state.error.target === \"screening_feedback\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            )}\n            {/* ------------------------------------------------------ */}\n            {this.props.editScreening === \"Response\" && (\n              <div className=\"col-span-6\">\n                <div className=\"flex flex-col w-full\">\n                  <span className=\"text-sm\">Date of screening response</span>\n                  <input\n                    type=\"date\"\n                    value={\n                      this.state.date_of_screening_response === null\n                        ? \"\"\n                        : DATE(\n                            this.state.date_of_screening_response,\n                            \"YYYY/MM/DD\"\n                          )\n                    }\n                    onChange={(e) => {\n                      this.setState({\n                        date_of_screening_response: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"date_of_screening_response\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target ===\n                      \"date_of_screening_response\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n                {/* Description */}\n                <div className=\"flex flex-col w-full mt-3\">\n                  <span className=\"text-sm\">Screening response (Optional)</span>\n                  <textarea\n                    value={this.state.screening_response}\n                    onChange={(e) => {\n                      this.setState({\n                        screening_response: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"screening_response\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  ></textarea>\n                  {this.state.error !== null &&\n                    this.state.error.target === \"screening_response\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            )}\n            <div className=\"col-span-6\"></div>\n            {this.props.editScreening === \"Status\" && (\n              <div className=\"col-span-6\"></div>\n            )}\n            <div className=\"col-span-6 flex flex-col gap-2\">\n              <div className=\"\">\n                <div className=\"flex flex-col w-full my-3\">\n                  <span className=\"text-sm\">Screened by</span>\n                  <input\n                    value={this.state.done_by}\n                    onChange={(e) => {\n                      this.setState({\n                        done_by: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"done_by\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target === \"done_by\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            </div>\n            <div className=\"col-span-12\">\n              <div>\n                <div className=\"font-bold text-lg mb-2\">\n                  Choose Screening status\n                </div>\n                <div className=\"flex flex-row items-center \">\n                  {[\n                    ScreeningStatusValues.PROGRESS_IN_SCREENING,\n                    ScreeningStatusValues.SCREENING_COMPLETED,\n                    ScreeningStatusValues.WITHDRAWN,\n                  ].map((item, i) => (\n                    <div\n                      key={i + 1}\n                      className={`${\n                        this.state.screening_status === item\n                          ? \"bg-primary-100 text-primary-900 font-extrabold\"\n                          : \"text-gray-600 hover:bg-primary-50 hover:text-primary-800\"\n                      } text-sm p-1 pr-3 rounded-full flex flex-row items-center justify-center gap-2 cursor-pointer`}\n                      onClick={() => this.setState({ screening_status: item })}\n                    >\n                      <div>\n                        {this.state.screening_status === item ? (\n                          <BsCheckCircleFill className=\"text-2xl\" />\n                        ) : (\n                          <MdRadioButtonUnchecked className=\"text-2xl\" />\n                        )}\n                      </div>\n                      <span>{item}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"flex flex-row items-center justify-end mt-3 w-full\">\n                <div className=\"w-full\">\n                  <div className=\"my-2 w-full\">\n                    {this.state.error !== null &&\n                      this.state.error.target === \"main\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Error Occurred!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                              success: \"\",\n                            });\n                          }}\n                        />\n                      )}\n                  </div>\n                  {this.state.success !== \"\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.SUCCESS}\n                        title={\"Action succeeded!\"}\n                        description={this.state.success}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                            success: \"\",\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n                  <button\n                    type=\"submit\"\n                    disabled={this.state.loading}\n                    className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900\"\n                  >\n                    <div>\n                      {this.state.loading === true ? (\n                        <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                      ) : (\n                        <MdSave className=\"text-xl\" />\n                      )}\n                    </div>\n                    <span>\n                      {this.state.loading === true\n                        ? \"Loading...\"\n                        : \"Save changes\"}\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditScreening;\n","import React, { Component } from \"react\";\nimport { BiMessageSquareEdit } from \"react-icons/bi\";\nimport {\n  BsArrowLeft,\n  BsArrowRight,\n  BsInfoCircle,\n  BsInfoCircleFill,\n} from \"react-icons/bs\";\nimport { IoWarningOutline } from \"react-icons/io5\";\nimport { MdAccessTime, MdFeedback } from \"react-icons/md\";\nimport { ApplicationDetailsInterface } from \"../../../actions\";\nimport { DATE } from \"../../../utils/functions\";\nimport EditScreening from \"../edit/EditScreening\";\nimport {\n  FCGetScreeningStatusElement,\n  GetLastScreeningValue,\n  screeningNumberOfDays,\n  validateScreening30Days,\n} from \"../Screening\";\n\ninterface ScreeningDetailsProps {\n  data: ApplicationDetailsInterface;\n  openScreeningDetails: (status: boolean) => void;\n  onSave: (reference_number: string) => void;\n  modal: boolean;\n}\n\ninterface ScreeningDetailsState {\n  editScreening: \"FeedBack\" | \"Response\" | \"Status\" | null;\n}\n\nconst ScreeningSection = (props: {\n  date: string;\n  description: string;\n  type: \"Feedback\" | \"Response\";\n  onClick: () => void;\n}) => {\n  return (\n    <div\n      onClick={props.onClick}\n      className=\"w-full rounded-md flex flex-row items-center gap-2 group hover:text-primary-900 border px-2 py-1 hover:bg-primary-50 hover:border-primary-100 cursor-pointer\"\n    >\n      <div>\n        <div className=\"h-16 w-16 rounded-lg flex items-center justify-center bg-primary-100 group-hover:bg-white\">\n          {props.type === \"Response\" ? (\n            <MdFeedback className=\"text-5xl text-primary-700 group-hover:text-primary-800\" />\n          ) : (\n            <BsInfoCircleFill className=\"text-5xl text-primary-700 group-hover:text-primary-800\" />\n          )}\n        </div>\n      </div>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-col text-sm\">\n          <span className=\"font-bold\">Screening {props.type}</span>\n          <div className=\"flex flex-row items-center gap-2\">\n            <div>\n              <MdAccessTime className=\"text-xl text-gray-400 group-hover:text-primary-900\" />\n            </div>\n            <span className=\"font-semibold\">Date: {DATE(props.date)}</span>\n          </div>\n        </div>\n        <div className=\"flex flex-col text-sm\">\n          {/* <span className=\"font-light\">Screening {props.type}</span> */}\n          <div>{props.description}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst EmptyScreeningSection = (props: {\n  type: \"Feedback\" | \"Response\";\n  onClick: () => void;\n}) => {\n  return (\n    <div\n      onClick={props.onClick}\n      className=\"w-full flex flex-row items-center gap-2 justify-between rounded-md group hover:text-primary-900 border px-1 py-1 hover:bg-primary-50 hover:border-primary-100 cursor-pointer\"\n    >\n      <div className=\"flex flex-row items-center gap-2\">\n        <div>\n          <div className=\"h-16 w-16 rounded-lg flex items-center justify-center bg-gray-100 group-hover:bg-white\">\n            {props.type === \"Response\" ? (\n              <MdFeedback className=\"text-5xl text-gray-300 group-hover:text-primary-800 animate-pulse\" />\n            ) : (\n              <BsInfoCircleFill className=\"text-5xl text-gray-300 group-hover:text-primary-800 animate-pulse\" />\n            )}\n          </div>\n        </div>\n        <div className=\"flex flex-col justify-between\">\n          <span className=\"font-bold\">Screening {props.type}</span>\n          <span className=\"text-lg font-light\">\n            Click here to add {props.type}\n          </span>\n        </div>\n      </div>\n      <div className=\"mr-2\">\n        <BsArrowRight className=\"text-3xl text-gray-300 group-hover:text-primary-900\" />\n      </div>\n    </div>\n  );\n};\n\nexport class ScreeningDetails extends Component<\n  ScreeningDetailsProps,\n  ScreeningDetailsState\n> {\n  constructor(props: ScreeningDetailsProps) {\n    super(props);\n\n    this.state = {\n      editScreening: null,\n    };\n  }\n  GetLastScreeningFeedBack = () => {\n    if (this.props.data.screenings.length === 0) {\n      return null;\n    }\n    const item =\n      this.props.data.screenings[this.props.data.screenings.length - 1];\n    if (\n      item.date_of_screening_feedback !== \"\" &&\n      item.date_of_screening_feedback !== null\n    ) {\n      return item;\n    }\n    return null;\n  };\n  GetLastScreeningResponse = () => {\n    if (this.props.data.screenings.length === 0) {\n      return null;\n    }\n    const item =\n      this.props.data.screenings[this.props.data.screenings.length - 1];\n    if (\n      item.date_of_screening_response !== \"\" &&\n      item.date_of_screening_response !== null\n    ) {\n      return item;\n    }\n    return null;\n  };\n  componentDidMount(): void {\n    if (this.props.data.screenings.length === 0) {\n      this.setState({ editScreening: \"FeedBack\" });\n    }\n  }\n  screeningNumberOfDays = (): number => {\n    return screeningNumberOfDays(this.props.data.screenings);\n  };\n\n  validateScreening30Days = (): \"VALID\" | \"INVALID\" => {\n    return validateScreening30Days(this.props.data.screenings);\n  };\n  render() {\n    if (this.state.editScreening !== null) {\n      return (\n        <EditScreening\n          onGoBack={() => {\n            this.setState({ editScreening: null });\n            if (this.props.data.screenings.length === 0) {\n              this.props.openScreeningDetails(false);\n            }\n          }}\n          data={this.props.data}\n          onSave={(application_ref_number: string) => {\n            // this.setState({ editScreening: null });\n            this.props.onSave(application_ref_number);\n          }}\n          editScreening={this.state.editScreening}\n          modal={this.props.modal}\n        />\n      );\n    }\n    return (\n      <div className=\"animate__animated animate__fadeIn rounded-md bg-white p-3\">\n        <div className=\"flex flex-row items-center gap-2 justify-between\">\n          <div className=\"flex flex-row items-center gap-2\">\n            <div>\n              <div\n                onClick={() => this.props.openScreeningDetails(false)}\n                className=\"flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 hover:bg-primary-100 hover:text-primary-900 cursor-pointer\"\n              >\n                <BsArrowLeft className=\"text-2xl\" />\n              </div>\n            </div>\n            <div className=\"font-extrabold text-xl flex flex-col\">\n              <span>Screening details</span>\n              <span className=\"text-sm font-light\">\n                This is the historical information for application screening\n              </span>\n            </div>\n          </div>\n          {this.props.data.screenings.length > 0 && (\n            <FCGetScreeningStatusElement\n              screening_status={\n                this.props.data.screenings[\n                  this.props.data.screenings.length - 1\n                ].screening_status\n              }\n            />\n          )}\n        </div>\n        {/* Details */}\n        {GetLastScreeningValue(this.props.data.screenings) !== null &&\n          (GetLastScreeningValue(this.props.data.screenings)!\n            .date_of_screening_feedback === null ||\n            GetLastScreeningValue(this.props.data.screenings)!\n              .date_of_screening_feedback === \"\") &&\n          this.validateScreening30Days() === \"INVALID\" && (\n            <div className=\"my-3 rounded-md bg-red-100 border-red-300 text-red-700 px-2 py-2 pr-4 flex flex-row items-center gap-3\">\n              <div>\n                <IoWarningOutline className=\"text-6xl animate__animated animate__tada animate__infinite\" />\n              </div>\n              <div className=\"flex flex-col\">\n                <div className=\"flex flex-row gap-2 items-center text-xl font-extrabold\">\n                  <div className=\"text-base bg-red-700 text-white rounded-full px-2\">\n                    {this.screeningNumberOfDays()}\n                  </div>\n                  <span>days passed without feedback</span>\n                </div>\n                <div className=\"text-sm\">\n                  This application took over 30 days of getting customer\n                  feedback, please check out for this\n                </div>\n              </div>\n            </div>\n          )}\n        {GetLastScreeningValue(this.props.data.screenings) !== null &&\n          GetLastScreeningValue(this.props.data.screenings)!\n            .date_of_screening_response !== null &&\n          GetLastScreeningValue(this.props.data.screenings)!\n            .date_of_screening_response !== \"\" && (\n            <div className=\"my-3 rounded-md bg-primary-50 border-primary-300 text-primary-900 px-2 py-2 pr-4 flex flex-row items-center gap-3\">\n              <div>\n                <BsInfoCircle className=\"text-5xl animate__animated animate__tada\" />\n              </div>\n              <div className=\"flex flex-col\">\n                <div className=\"flex flex-row gap-2 items-center text-xl font-extrabold\">\n                  <div className=\"text-base bg-primary-700 text-white rounded-full px-2\">\n                    {this.screeningNumberOfDays()}\n                  </div>\n                  <span>days taken to complete screening</span>\n                </div>\n                <div className=\"text-sm\">\n                  These days are taken from the start of screening up to the end\n                </div>\n              </div>\n            </div>\n          )}\n        <div className=\"flex flex-row gap-4 mt-5\">\n          {this.GetLastScreeningResponse() !== null && (\n            <>\n              {this.GetLastScreeningFeedBack() !== null &&\n              this.GetLastScreeningFeedBack()!.date_of_screening_feedback !==\n                null ? (\n                <ScreeningSection\n                  date={\n                    this.GetLastScreeningFeedBack()!.date_of_screening_feedback!\n                  }\n                  description={\n                    this.GetLastScreeningFeedBack()!.screening_feedback\n                  }\n                  type={\"Feedback\"}\n                  onClick={() => this.setState({ editScreening: \"FeedBack\" })}\n                />\n              ) : (\n                <EmptyScreeningSection\n                  type=\"Feedback\"\n                  onClick={() => this.setState({ editScreening: \"FeedBack\" })}\n                />\n              )}\n            </>\n          )}\n          {this.GetLastScreeningResponse() !== null ? (\n            <ScreeningSection\n              date={\n                this.GetLastScreeningResponse()!.date_of_screening_response ===\n                null\n                  ? \"\"\n                  : this.GetLastScreeningResponse()!.date_of_screening_response!\n              }\n              description={this.GetLastScreeningResponse()!.screening_response}\n              type={\"Response\"}\n              onClick={() => this.setState({ editScreening: \"Response\" })}\n            />\n          ) : (\n            <EmptyScreeningSection\n              type=\"Response\"\n              onClick={() => this.setState({ editScreening: \"Response\" })}\n            />\n          )}\n        </div>\n        {this.GetLastScreeningResponse() !== null && (\n          <div className=\"my-3 font-bold bg-gray-100 rounded-md px-3 py-2 w-max\">\n            Done by {this.GetLastScreeningResponse()?.done_by}\n          </div>\n        )}\n        {this.props.data.screenings.length > 0 && (\n          <div className=\"mt-5 flex flex-row items-center gap-2\">\n            <div\n              onClick={() => this.setState({ editScreening: \"Status\" })}\n              className=\"px-3 py-2 text-sm font-bold rounded-md bg-primary-100 text-primary-900 hover:bg-primary-800 hover:text-white cursor-pointer w-max flex flex-row items-center gap-2\"\n            >\n              <div>\n                <BiMessageSquareEdit className=\"text-2xl\" />\n              </div>\n              <span>Update screening status</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft, BsCheckCircleFill } from \"react-icons/bs\";\nimport { MdRadioButtonUnchecked, MdSave } from \"react-icons/md\";\nimport {\n  ApplicationDetailsInterface,\n  FC_UpdatePeerReview,\n  PeerReviewSavedData,\n  PeerReviewStatusValues,\n} from \"../../../actions\";\nimport Alert, { AlertType } from \"../../Alert/Alert\";\n\ninterface PeerReviewProps {\n  onGoBack: () => void;\n  onSave: (reference_number: string) => void;\n  data: ApplicationDetailsInterface;\n  comment: string;\n  status: PeerReviewStatusValues;\n  modal: boolean;\n}\ninterface PeerReviewState {\n  loading: boolean;\n  success: string;\n  error: {\n    target: \"comment\" | \"main\";\n    msg: string;\n  } | null;\n  application_id: string;\n  application_ref_number: string;\n  comment: string;\n  peer_review_status: PeerReviewStatusValues;\n}\n\nexport class EditPeerReview extends Component<\n  PeerReviewProps,\n  PeerReviewState\n> {\n  constructor(props: PeerReviewProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n      success: \"\",\n      application_id: this.props.data.application_id,\n      application_ref_number: this.props.data.application_ref_number,\n      comment: this.props.comment,\n      peer_review_status: this.props.status,\n    };\n  }\n  SubmitPeerReview = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.application_id === \"\") {\n      return this.setState({\n        error: { target: \"main\", msg: \"Please select application ID\" },\n      });\n    }\n    if (this.state.application_ref_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"main\",\n          msg: \"Please select application reference number!\",\n        },\n      });\n    }\n    if (this.state.comment === \"\") {\n      return this.setState({\n        error: {\n          target: \"comment\",\n          msg: \"Please select date of screening feedback!\",\n        },\n      });\n    }\n\n    // Saving\n    this.setState({ loading: true });\n    const data_saved: PeerReviewSavedData = {\n      application_ref_number: this.state.application_ref_number,\n      comment: this.state.comment,\n      status: this.state.peer_review_status,\n    };\n    FC_UpdatePeerReview(\n      data_saved,\n      this.state.comment !== \"\" ? \"Update\" : \"Add\",\n      (\n        loading: boolean,\n        feedback: {\n          type: \"success\" | \"error\";\n          msg: string;\n        } | null\n      ) => {\n        this.setState({\n          loading: loading,\n        });\n        if (loading === false) {\n          if (feedback !== null) {\n            if (feedback.type === \"success\") {\n              this.setState({\n                error: null,\n                success: feedback.msg,\n                comment: \"\",\n              });\n              //   OnSave\n              this.props.onSave(this.state.application_ref_number);\n            }\n            if (feedback.type === \"error\") {\n              this.setState({\n                error: {\n                  target: \"main\",\n                  msg: feedback.msg,\n                },\n                success: \"\",\n              });\n            }\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <div\n          className={`${\n            this.props.modal === true ? \"bg-gray-200\" : \"bg-white\"\n          } rounded-md p-3 animate__animated animate__fadeIn`}\n        >\n          {/* Title here */}\n          <div></div>\n          {/* Details */}\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                onClick={this.props.onGoBack}\n                className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n              >\n                <BsArrowLeft className=\"text-3xl\" />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"text-xl font-extrabold\">\n                Add peer review information\n              </span>\n              <span className=\"text-xs\">\n                Fill the following fields to updated the system about peer\n                review\n              </span>\n            </div>\n          </div>\n          <form\n            onSubmit={this.SubmitPeerReview}\n            className=\"grid grid-cols-12 gap-3 mt-5\"\n          >\n            {/* ------------------------------------------------------ */}\n            <div className=\"col-span-6\">\n              {/* Description */}\n              <div className=\"flex flex-col w-full mt-3\">\n                <span className=\"text-sm\">Peer Review Response</span>\n                <textarea\n                  value={this.state.comment}\n                  onChange={(e) => {\n                    this.setState({\n                      comment: e.target.value,\n                      error: null,\n                    });\n                  }}\n                  disabled={this.state.loading}\n                  className={`px-3 py-2 rounded-md border ${\n                    this.state.error?.target === \"comment\"\n                      ? \"border-red-600 animate__animated animate__shakeX\"\n                      : \"border-gray-400\"\n                  } w-full text-sm`}\n                ></textarea>\n                {this.state.error !== null &&\n                  this.state.error.target === \"comment\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.DANGER}\n                        title={\"Invalid input!\"}\n                        description={this.state.error.msg}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n              </div>\n            </div>\n            {/* Other info STATUS */}\n            <div className=\"col-span-12 flex flex-row items-center gap-3 justify-end\">\n              {/* Status here */}\n              <div className=\"\">\n                <div className=\"font-bold text-lg mb-2\">\n                  Choose Peer review status\n                </div>\n                <div className=\"flex flex-row items-center justify-end\">\n                  {(\n                    [\n                      PeerReviewStatusValues.incomplete.toUpperCase(),\n                      PeerReviewStatusValues.approved.toUpperCase(),\n                      PeerReviewStatusValues.rejected.toUpperCase(),\n                    ] as PeerReviewStatusValues[]\n                  ).map((item, i) => (\n                    <div\n                      key={i + 1}\n                      className={`${\n                        this.state.peer_review_status.toUpperCase() ===\n                        item.toUpperCase()\n                          ? \"bg-primary-100 text-primary-900 font-extrabold\"\n                          : \"text-gray-600 hover:bg-primary-50 hover:text-primary-800\"\n                      } text-sm p-1 pr-3 rounded-full flex flex-row items-center justify-center gap-2 cursor-pointer`}\n                      onClick={() =>\n                        this.setState({ peer_review_status: item })\n                      }\n                    >\n                      <div>\n                        {this.state.peer_review_status.toUpperCase() ===\n                        item.toUpperCase() ? (\n                          <BsCheckCircleFill className=\"text-2xl\" />\n                        ) : (\n                          <MdRadioButtonUnchecked className=\"text-2xl\" />\n                        )}\n                      </div>\n                      <span>{item}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"flex flex-row items-center justify-end mt-3 w-full\">\n                <div className=\"w-full\">\n                  <div className=\"my-2 w-full\">\n                    {this.state.error !== null &&\n                      this.state.error.target === \"main\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Error Occurred!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                              success: \"\",\n                            });\n                          }}\n                        />\n                      )}\n                  </div>\n                  {this.state.success !== \"\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.SUCCESS}\n                        title={\"Action succeeded!\"}\n                        description={this.state.success}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                            success: \"\",\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n                  <button\n                    type=\"submit\"\n                    disabled={this.state.loading}\n                    className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900\"\n                  >\n                    <div>\n                      {this.state.loading === true ? (\n                        <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                      ) : (\n                        <MdSave className=\"text-xl\" />\n                      )}\n                    </div>\n                    <span>\n                      {this.state.loading === true\n                        ? \"Loading...\"\n                        : \"Save changes\"}\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { BiMessageSquareEdit } from \"react-icons/bi\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport {\n  ApplicationDetailsInterface,\n  PeerReviewStatusValues,\n} from \"../../../actions\";\nimport { EditPeerReview } from \"../edit/EditPeerReview\";\nimport { FCGetPeerReviewStatusElement } from \"../PeerReview\";\n\ninterface PeerReviewDetailsProps {\n  data: ApplicationDetailsInterface;\n  openPeerReviewDetails: (status: boolean) => void;\n  onSave: (application_reference_number: string) => void;\n  modal: boolean;\n}\n\ninterface PeerReviewDetailsState {\n  editReview: {\n    comment: string;\n    status: PeerReviewStatusValues;\n  } | null;\n}\n\nexport class PeerReviewDetails extends Component<\n  PeerReviewDetailsProps,\n  PeerReviewDetailsState\n> {\n  constructor(props: PeerReviewDetailsProps) {\n    super(props);\n\n    this.state = {\n      editReview: null,\n    };\n  }\n  componentDidMount(): void {\n    if (this.props.data.peerreviews.length === 0) {\n      this.setState({\n        editReview: {\n          comment: \"\",\n          status: PeerReviewStatusValues.approved,\n        },\n      });\n    }\n  }\n  render() {\n    if (this.state.editReview !== null) {\n      return (\n        <EditPeerReview\n          onGoBack={() => {\n            this.setState({ editReview: null });\n            if (this.props.data.peerreviews.length === 0) {\n              this.props.openPeerReviewDetails(false);\n            }\n          }}\n          onSave={(application_ref_number: string) => {\n            this.props.onSave(application_ref_number);\n          }}\n          data={this.props.data}\n          comment={this.state.editReview.comment}\n          status={this.state.editReview.status}\n          modal={this.props.modal}\n        />\n      );\n    }\n    return (\n      <div className=\"animate__animated animate__slideInRight animate__faster rounded-md bg-white p-3\">\n        <div className=\"flex flex-row items-center gap-2\">\n          <div>\n            <div\n              onClick={() => this.props.openPeerReviewDetails(false)}\n              className=\"flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 hover:bg-primary-100 hover:text-primary-900 cursor-pointer\"\n            >\n              <BsArrowLeft className=\"text-2xl\" />\n            </div>\n          </div>\n          <div className=\"font-extrabold text-xl flex flex-col\">\n            <span>Peer review details</span>\n            <span className=\"text-sm font-light\">\n              This is the historical information for application peer review\n            </span>\n          </div>\n        </div>\n        {/* Details */}\n        <div className=\"my-3\">\n          {this.props.data.peerreviews.length === 0 ? (\n            <div className=\"w-full rounded-md bg-gray-200 text-lg font-light px-3 py-2\">\n              No review data found!\n            </div>\n          ) : (\n            [\n              this.props.data.peerreviews[\n                this.props.data.peerreviews.length - 1\n              ],\n            ].map((item, i) => (\n              <div\n                key={i + 1}\n                className=\"rounded-md bg-gray-100 hover:text-primary-900 flex flex-row items-center justify-between gap-2 w-full px-3 py-2 mb-2 hover:bg-primary-100 cursor-pointer group\"\n                // onClick={() => {\n                //   this.setState({\n                //     editReview: {\n                //       comment: item.comment,\n                //       status: item.status,\n                //     },\n                //   });\n                // }}\n              >\n                <div className=\"flex flex-row items-center gap-2\">\n                  <div>\n                    <div className=\"rounded-full bg-gray-200 group-hover:bg-primary-800 group-hover:text-white font-extrabold text-lg flex items-center justify-center h-8 w-8\">\n                      {i + 1}\n                    </div>\n                  </div>\n                  <div className=\"flex flex-col\">\n                    <span className=\"text-sm font-bold\">Review comment</span>\n                    <span className=\"font-base text-sm\">{item.comment}</span>\n                  </div>\n                </div>\n                <div>\n                  <FCGetPeerReviewStatusElement\n                    peerReview_status={item.status}\n                  />\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {\n          <div\n            onClick={() => {\n              this.setState({\n                editReview: {\n                  comment: \"\",\n                  status: PeerReviewStatusValues.approved,\n                },\n              });\n            }}\n            className=\"mt-5 flex flex-row items-center gap-2\"\n          >\n            <div className=\"px-3 py-2 text-sm font-bold rounded-md bg-primary-100 text-primary-900 hover:bg-primary-800 hover:text-white cursor-pointer w-max flex flex-row items-center gap-2\">\n              <div>\n                <BiMessageSquareEdit className=\"text-2xl\" />\n              </div>\n              <span>Add peer review</span>\n            </div>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft, BsCheckCircleFill } from \"react-icons/bs\";\nimport { MdRadioButtonUnchecked, MdSave } from \"react-icons/md\";\nimport {\n  ApplicationDetailsInterface,\n  AssessmentOutcomeValues,\n  FC_UpdateAssessment,\n  LevelsValues,\n  RoundValues,\n} from \"../../../actions\";\nimport { DATE } from \"../../../utils/functions\";\nimport Alert, { AlertType } from \"../../Alert/Alert\";\nimport { GetRoundName } from \"../Assessment\";\n\ninterface EditAssessmentProps {\n  onGoBack: () => void;\n  onSave: (reference_number: string) => void;\n  data: ApplicationDetailsInterface;\n  assessment_level: LevelsValues;\n  assessment_round: RoundValues;\n  assessment_start_date: string;\n  assessment_end_date: string;\n  assessment_outcome: AssessmentOutcomeValues;\n  assessment_comment: string;\n  done_by: string;\n  action_type: \"Update\" | \"Add\";\n}\ninterface EditAssessmentState {\n  loading: boolean;\n  success: string;\n  error: {\n    target:\n      | \"assessment_round\"\n      | \"assessment_round\"\n      | \"assessment_start_date\"\n      | \"assessment_end_date\"\n      | \"assessment_outcome\"\n      | \"assessment_comment\"\n      | \"done_by\"\n      | \"main\";\n    msg: string;\n  } | null;\n  application_ref_number: string;\n  assessment_level: LevelsValues;\n  assessment_round: RoundValues;\n  assessment_start_date: string;\n  assessment_end_date: string;\n  assessment_outcome: AssessmentOutcomeValues;\n  assessment_comment: string;\n  done_by: string;\n  done_at: string | null;\n}\n\nexport class EditAssessment extends Component<\n  EditAssessmentProps,\n  EditAssessmentState\n> {\n  constructor(props: EditAssessmentProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n      success: \"\",\n      application_ref_number: this.props.data.application_ref_number,\n      assessment_level: this.props.assessment_level,\n      assessment_round: this.props.assessment_round,\n      assessment_start_date: this.props.assessment_start_date,\n      assessment_end_date: this.props.assessment_end_date,\n      assessment_outcome: this.props.assessment_outcome,\n      assessment_comment: this.props.assessment_comment,\n      done_by: this.props.done_by,\n      done_at: \"\", //Default change it to null\n    };\n  }\n  SubmitAssessment = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.application_ref_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"main\",\n          msg: \"Please select application reference number!\",\n        },\n      });\n    }\n\n    if (this.state.assessment_start_date === \"\") {\n      return this.setState({\n        error: {\n          target: \"assessment_start_date\",\n          msg: \"Please select assessment start date!\",\n        },\n      });\n    }\n    if (this.state.assessment_end_date === \"\") {\n      return this.setState({\n        error: {\n          target: \"assessment_end_date\",\n          msg: \"Please select assessment ending date!\",\n        },\n      });\n    }\n    if (this.state.done_by === \"\") {\n      return this.setState({\n        error: {\n          target: \"done_by\",\n          msg: \"Please type name of person who did assessment!\",\n        },\n      });\n    }\n    // Saving\n    this.setState({ loading: true });\n    const data_saved = {\n      application_ref_number: this.state.application_ref_number,\n      assessment_level: this.state.assessment_level,\n      assessment_round: this.state.assessment_round,\n      assessment_start_date: DATE(\n        this.state.assessment_start_date,\n        \"YYYY/MM/DD\"\n      ),\n      assessment_end_date: DATE(this.state.assessment_end_date, \"YYYY/MM/DD\"),\n      assessment_outcome: this.state.assessment_outcome,\n      assessment_comment:\n        this.state.assessment_comment === \"\"\n          ? \"No comment\"\n          : this.state.assessment_comment,\n      done_by: this.state.done_by,\n      done_at: this.state.done_at,\n    };\n    FC_UpdateAssessment(\n      data_saved,\n      this.props.action_type,\n      (\n        loading: boolean,\n        feedback: {\n          type: \"success\" | \"error\";\n          msg: string;\n        } | null\n      ) => {\n        this.setState({\n          loading: loading,\n        });\n        if (loading === false) {\n          if (feedback !== null) {\n            if (feedback.type === \"success\") {\n              this.setState({\n                error: null,\n                success: feedback.msg,\n                assessment_start_date: \"\",\n                assessment_end_date: \"\",\n                assessment_comment: \"\",\n              });\n              //   OnSave\n              this.props.onSave(this.state.application_ref_number);\n            }\n            if (feedback.type === \"error\") {\n              this.setState({\n                error: {\n                  target: \"main\",\n                  msg: feedback.msg,\n                },\n                success: \"\",\n              });\n            }\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"bg-white rounded-md p-3 animate__animated animate__fadeIn\">\n          {/* Title here */}\n          <div></div>\n          {/* Details */}\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                onClick={this.props.onGoBack}\n                className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n              >\n                <BsArrowLeft className=\"text-3xl\" />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"text-xl font-extrabold\">\n                Add Assessment Outcomes\n              </span>\n              <span className=\"text-xs\">\n                Fill the following fields to updated the system about assessment\n                outcomes\n              </span>\n            </div>\n          </div>\n          <form\n            onSubmit={this.SubmitAssessment}\n            className=\"grid grid-cols-12 gap-3 mt-5\"\n          >\n            <div className=\"col-span-6\">\n              <div className=\"flex flex-col w-full\">\n                <span className=\"text-sm\">Start date of assessment</span>\n                <input\n                  type=\"date\"\n                  value={\n                    this.state.assessment_start_date === \"\"\n                      ? \"\"\n                      : DATE(this.state.assessment_start_date, \"YYYY/MM/DD\")\n                  }\n                  onChange={(e) => {\n                    this.setState({\n                      assessment_start_date: e.target.value,\n                      error: null,\n                    });\n                  }}\n                  disabled={this.state.loading}\n                  className={`px-3 py-2 rounded-md border ${\n                    this.state.error?.target === \"assessment_start_date\"\n                      ? \"border-red-600 animate__animated animate__shakeX\"\n                      : \"border-gray-400\"\n                  } w-full text-sm`}\n                />\n                {this.state.error !== null &&\n                  this.state.error.target === \"assessment_start_date\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.DANGER}\n                        title={\"Invalid input!\"}\n                        description={this.state.error.msg}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n              </div>\n              {/* Description here */}\n              <div className=\"flex flex-col w-full mt-3\">\n                <span className=\"text-sm\">Assessment comment (Optional)</span>\n                <textarea\n                  value={this.state.assessment_comment}\n                  onChange={(e) => {\n                    this.setState({\n                      assessment_comment: e.target.value,\n                      error: null,\n                    });\n                  }}\n                  disabled={this.state.loading}\n                  className={`px-3 py-2 rounded-md border ${\n                    this.state.error?.target === \"assessment_comment\"\n                      ? \"border-red-600 animate__animated animate__shakeX\"\n                      : \"border-gray-400\"\n                  } w-full text-sm`}\n                ></textarea>\n                {this.state.error !== null &&\n                  this.state.error.target === \"assessment_comment\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.DANGER}\n                        title={\"Invalid input!\"}\n                        description={this.state.error.msg}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n              </div>\n            </div>\n            {/* ------------------------------------------------------ */}\n            <div className=\"col-span-6\">\n              <div className=\"flex flex-col w-full\">\n                <span className=\"text-sm\">Ending date of assessment</span>\n                <input\n                  type=\"date\"\n                  value={\n                    this.state.assessment_end_date === \"\"\n                      ? \"\"\n                      : DATE(this.state.assessment_end_date, \"YYYY/MM/DD\")\n                  }\n                  onChange={(e) => {\n                    this.setState({\n                      assessment_end_date: e.target.value,\n                      error: null,\n                    });\n                  }}\n                  disabled={this.state.loading}\n                  className={`px-3 py-2 rounded-md border ${\n                    this.state.error?.target === \"assessment_end_date\"\n                      ? \"border-red-600 animate__animated animate__shakeX\"\n                      : \"border-gray-400\"\n                  } w-full text-sm`}\n                />\n                {this.state.error !== null &&\n                  this.state.error.target === \"assessment_end_date\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.DANGER}\n                        title={\"Invalid input!\"}\n                        description={this.state.error.msg}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n              </div>\n              {/* Description */}\n              <div className=\"flex flex-row w-full items-center justify-between gap-3 my-2 mt-7 text-primary-900\">\n                <div className=\"flex flex-col w-full rounded-md bg-primary-50 px-4 py-3 text-sm\">\n                  <span className=\"font-light\">Selected Level</span>\n                  <span className=\"font-bold\">\n                    {this.props.assessment_level}\n                  </span>\n                </div>\n                <div className=\"flex flex-col w-full rounded-md bg-primary-50 px-4 py-3 text-sm\">\n                  <span className=\"font-light\">Selected round</span>\n                  <span className=\"font-bold\">\n                    {GetRoundName(this.props.assessment_round)}\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-span-6 flex flex-col gap-2\">\n              <div className=\"\">\n                <div className=\"flex flex-col w-full\">\n                  <span className=\"text-sm\">Assessor names</span>\n                  <input\n                    value={this.state.done_by}\n                    onChange={(e) => {\n                      this.setState({\n                        done_by: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"done_by\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target === \"done_by\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            </div>\n            <div className=\"col-span-6\"></div>\n            {/* Other info STATUS */}\n            <div className=\"col-span-12 flex flex-row items-center gap-3 justify-end\">\n              {/* Status here */}\n              <div className=\"\">\n                <div className=\"font-bold text-lg mb-2\">\n                  Choose Assessment Outcome\n                </div>\n                <div className=\"flex flex-row items-center justify-end\">\n                  {(this.props.assessment_round === RoundValues.ROUND_FOUR &&\n                  this.props.assessment_level === LevelsValues.LEVEL_TWO\n                    ? [AssessmentOutcomeValues.NR, AssessmentOutcomeValues.R]\n                    : [\n                        AssessmentOutcomeValues.NR,\n                        AssessmentOutcomeValues.OG,\n                        AssessmentOutcomeValues.R,\n                      ]\n                  ).map((item, i) => (\n                    <div\n                      key={i + 1}\n                      className={`${\n                        this.state.assessment_outcome === item\n                          ? \"bg-primary-100 text-primary-900 font-extrabold\"\n                          : \"text-gray-600 hover:bg-primary-50 hover:text-primary-800\"\n                      } text-sm p-1 pr-3 rounded-full flex flex-row items-center justify-center gap-2 cursor-pointer`}\n                      onClick={() =>\n                        this.setState({ assessment_outcome: item })\n                      }\n                    >\n                      <div>\n                        {this.state.assessment_outcome === item ? (\n                          <BsCheckCircleFill className=\"text-2xl\" />\n                        ) : (\n                          <MdRadioButtonUnchecked className=\"text-2xl\" />\n                        )}\n                      </div>\n                      <div className=\"truncate\">\n                        {item === AssessmentOutcomeValues.NR\n                          ? \"NOT RECOMMENDED\"\n                          : item === AssessmentOutcomeValues.OG\n                          ? \"ONGOING ASSESSMENT\"\n                          : \"RECOMMENDED\"}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n              <div className=\"flex flex-row items-center justify-end mt-3 w-full\">\n                <div className=\"w-full\">\n                  <div className=\"my-2 w-full\">\n                    {this.state.error !== null &&\n                      this.state.error.target === \"main\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Error Occurred!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                              success: \"\",\n                            });\n                          }}\n                        />\n                      )}\n                  </div>\n                  {this.state.success !== \"\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.SUCCESS}\n                        title={\"Action succeeded!\"}\n                        description={this.state.success}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                            success: \"\",\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n                  <button\n                    type=\"submit\"\n                    disabled={this.state.loading}\n                    className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900\"\n                  >\n                    <div>\n                      {this.state.loading === true ? (\n                        <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                      ) : (\n                        <MdSave className=\"text-xl\" />\n                      )}\n                    </div>\n                    <span>\n                      {this.state.loading === true\n                        ? \"Loading...\"\n                        : \"Save changes\"}\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditAssessment;\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport { MdSave } from \"react-icons/md\";\nimport {\n  ApplicationDetailsInterface,\n  AssessmentQuerySaveData,\n  FC_SendQuery,\n  RoundValues,\n} from \"../../../actions\";\nimport { DATE, GetDaysFromTwoDates } from \"../../../utils/functions\";\nimport Alert, { AlertType } from \"../../Alert/Alert\";\nimport { GetRoundName } from \"../Assessment\";\n\ninterface EditQueryProps {\n  onGoBack: () => void;\n  onSave: (reference_number: string) => void;\n  data: ApplicationDetailsInterface;\n  EditQuery: \"Issue\" | \"Response\";\n  selectedRound: RoundValues;\n  application_ref_number: string;\n  query_issued: string;\n  query_issued_date: string;\n  query_response: string;\n  query_response_date: string;\n}\ninterface EditQueryState {\n  loading: boolean;\n  success: string;\n  error: {\n    target:\n      | \"query_issued\"\n      | \"query_issued_date\"\n      | \"query_response\"\n      | \"query_response_date\"\n      | \"main\";\n    msg: string;\n  } | null;\n  application_ref_number: string;\n  query_issued: string;\n  query_issued_date: string;\n  query_response: string;\n  query_response_date: string;\n  type: \"Issue\" | \"Response\";\n}\n\nexport class EditQuery extends Component<EditQueryProps, EditQueryState> {\n  constructor(props: EditQueryProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n      error: null,\n      success: \"\",\n      application_ref_number: this.props.data.application_ref_number,\n      query_issued: this.props.query_issued,\n      query_issued_date: this.props.query_issued_date,\n      query_response: this.props.query_response,\n      query_response_date: this.props.query_response_date,\n      type: this.props.EditQuery,\n    };\n  }\n  SubmitScreening = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.application_ref_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"main\",\n          msg: \"Please select application reference number!\",\n        },\n      });\n    }\n    if (this.state.query_issued === \"\" && this.state.type === \"Issue\") {\n      return this.setState({\n        error: {\n          target: \"query_issued\",\n          msg: \"Please type the assessment query issue!\",\n        },\n      });\n    }\n    if (this.state.query_issued_date === \"\" && this.state.type === \"Issue\") {\n      return this.setState({\n        error: {\n          target: \"query_issued_date\",\n          msg: \"Please enter query issue date!\",\n        },\n      });\n    }\n    if (\n      this.state.query_response_date === \"\" &&\n      this.state.type === \"Response\"\n    ) {\n      return this.setState({\n        error: {\n          target: \"query_response_date\",\n          msg: \"Please enter date of query response from applicant!\",\n        },\n      });\n    }\n    if (this.state.query_response === \"\" && this.state.type === \"Response\") {\n      return this.setState({\n        error: {\n          target: \"query_response\",\n          msg: \"Please enter query response from applicant!\",\n        },\n      });\n    }\n    if (\n      this.state.query_issued_date !== \"\" &&\n      this.state.query_issued_date !== null &&\n      this.state.query_response_date !== null &&\n      this.state.query_response_date !== \"\"\n    ) {\n      if (\n        GetDaysFromTwoDates(\n          DATE(this.state.query_issued_date, \"MM/DD/YYYY\"),\n          DATE(this.state.query_response_date, \"MM/DD/YYYY\")\n        ) < 0\n      ) {\n        return this.setState({\n          error: {\n            target: \"query_response_date\",\n            msg: \"Invalid date, please the response date should be greater than or equal to issue date!\",\n          },\n        });\n      }\n    }\n    // Saving\n    this.setState({ loading: true });\n    const data_saved: AssessmentQuerySaveData = {\n      application_ref_number: this.props.data.application_ref_number,\n      query_issued: this.state.query_issued,\n      query_issued_date: DATE(this.state.query_issued_date, \"YYYY/MM/DD\"),\n      query_response: this.state.query_response,\n      query_response_date:\n        this.state.query_response_date === \"\" ||\n        this.state.query_response_date === null\n          ? null\n          : DATE(this.state.query_response_date, \"YYYY/MM/DD\"),\n      assessment_round: this.props.selectedRound,\n    };\n    console.log(\"Submitted: \", data_saved);\n    FC_SendQuery(\n      data_saved,\n      (\n        loading: boolean,\n        feedback: {\n          type: \"success\" | \"error\";\n          msg: string;\n        } | null\n      ) => {\n        this.setState({\n          loading: loading,\n        });\n        if (loading === false) {\n          if (feedback !== null) {\n            if (feedback.type === \"success\") {\n              //   OnSave\n              this.props.onSave(this.state.application_ref_number);\n            }\n            if (feedback.type === \"error\") {\n              this.setState({\n                error: {\n                  target: \"main\",\n                  msg: feedback.msg,\n                },\n                success: \"\",\n              });\n            }\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <div className=\"bg-white rounded-md p-3 animate__animated animate__fadeIn\">\n          {/* Title here */}\n          <div></div>\n          {/* Details */}\n          <div className=\"flex flex-row items-center gap-3\">\n            <div className=\"\">\n              <div\n                onClick={this.props.onGoBack}\n                className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n              >\n                <BsArrowLeft className=\"text-3xl\" />\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <div className=\"text-xl font-extrabold\">\n                {GetRoundName(this.props.selectedRound)} Query details\n              </div>\n              <div className=\"text-xs\">\n                Fill the following fields to updated query details\n              </div>\n              {this.props.EditQuery === \"Response\" && (\n                <div className=\"flex flex-row items-center gap-2 mt-2\">\n                  <div\n                    onClick={() => this.setState({ type: \"Issue\" })}\n                    className={`px-3 py-2 rounded-md text-sm ${\n                      this.state.type === \"Issue\"\n                        ? \"font-bold cursor-not-allowed bg-primary-100 text-primary-900\"\n                        : \"cursor-pointer bg-gray-200 hover:bg-primary-50 hover:text-primary-900\"\n                    }`}\n                  >\n                    Query Issue\n                  </div>\n                  <div\n                    onClick={() => this.setState({ type: \"Response\" })}\n                    className={`px-3 py-2 rounded-md text-sm ${\n                      this.state.type === \"Response\"\n                        ? \"font-bold cursor-not-allowed bg-primary-100 text-primary-900\"\n                        : \"cursor-pointer bg-gray-200 hover:bg-primary-50 hover:text-primary-900\"\n                    }`}\n                  >\n                    Query Response\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n          <form\n            onSubmit={this.SubmitScreening}\n            className=\"grid grid-cols-12 gap-3 mt-5\"\n          >\n            {this.state.type === \"Issue\" && (\n              <div className=\"col-span-6\">\n                <div className=\"flex flex-col w-full\">\n                  <span className=\"text-sm\">Date of query issue</span>\n                  <input\n                    type=\"date\"\n                    value={DATE(this.state.query_issued_date, \"YYYY/MM/DD\")}\n                    onChange={(e) => {\n                      this.setState({\n                        query_issued_date: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"query_issued_date\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target === \"query_issued_date\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n                {/* Description here */}\n                <div className=\"flex flex-col w-full mt-3\">\n                  <span className=\"text-sm\">Describe query issue</span>\n                  <textarea\n                    value={this.state.query_issued}\n                    onChange={(e) => {\n                      this.setState({\n                        query_issued: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"query_issued\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  ></textarea>\n                  {this.state.error !== null &&\n                    this.state.error.target === \"query_issued\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            )}\n            {/* ------------------------------------------------------ */}\n            {this.state.type === \"Response\" && (\n              <div className=\"col-span-6\">\n                <div className=\"flex flex-col w-full\">\n                  <span className=\"text-sm\">Date of qery response</span>\n                  <input\n                    type=\"date\"\n                    value={\n                      this.state.query_response_date === null\n                        ? \"\"\n                        : DATE(this.state.query_response_date, \"YYYY/MM/DD\")\n                    }\n                    onChange={(e) => {\n                      this.setState({\n                        query_response_date: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"query_response_date\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  />\n                  {this.state.error !== null &&\n                    this.state.error.target === \"query_response_date\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n                {/* Description */}\n                <div className=\"flex flex-col w-full mt-3\">\n                  <span className=\"text-sm\">Query response details</span>\n                  <textarea\n                    value={this.state.query_response}\n                    onChange={(e) => {\n                      this.setState({\n                        query_response: e.target.value,\n                        error: null,\n                      });\n                    }}\n                    disabled={this.state.loading}\n                    className={`px-3 py-2 rounded-md border ${\n                      this.state.error?.target === \"query_response\"\n                        ? \"border-red-600 animate__animated animate__shakeX\"\n                        : \"border-gray-400\"\n                    } w-full text-sm`}\n                  ></textarea>\n                  {this.state.error !== null &&\n                    this.state.error.target === \"query_response\" && (\n                      <div className=\"my-2\">\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Invalid input!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      </div>\n                    )}\n                </div>\n              </div>\n            )}\n            <div className=\"col-span-6\"></div>\n\n            <div className=\"col-span-12\">\n              <div className=\"flex flex-row items-center justify-end mt-3 w-full\">\n                <div className=\"w-full\">\n                  <div className=\"my-2 w-full\">\n                    {this.state.error !== null &&\n                      this.state.error.target === \"main\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\"Error Occurred!\"}\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                              success: \"\",\n                            });\n                          }}\n                        />\n                      )}\n                  </div>\n                  {this.state.success !== \"\" && (\n                    <div className=\"my-2\">\n                      <Alert\n                        alertType={AlertType.SUCCESS}\n                        title={\"Action succeeded!\"}\n                        description={this.state.success}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                            success: \"\",\n                          });\n                        }}\n                      />\n                    </div>\n                  )}\n                  <button\n                    type=\"submit\"\n                    disabled={this.state.loading}\n                    className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900\"\n                  >\n                    <div>\n                      {this.state.loading === true ? (\n                        <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                      ) : (\n                        <MdSave className=\"text-xl\" />\n                      )}\n                    </div>\n                    <span>\n                      {this.state.loading === true\n                        ? \"Loading...\"\n                        : \"Save changes\"}\n                    </span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditQuery;\n","import React, { Component } from \"react\";\nimport { BiMessageSquareEdit } from \"react-icons/bi\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport { IoShieldCheckmarkSharp } from \"react-icons/io5\";\nimport { MdAddComment, MdSchedule } from \"react-icons/md\";\nimport {\n  ApplicationDetailsInterface,\n  AssessmentInterface,\n  AssessmentOutcomeValues,\n  AssessmentQueryInterface,\n  LevelsValues,\n  RoundsArray,\n  RoundValues,\n} from \"../../../actions\";\nimport { DATE } from \"../../../utils/functions\";\nimport {\n  FCGetAssessmentStatusElement,\n  GetLastAssessmentValue,\n  getLastQuery,\n  GetRoundName,\n  queryAnsweringNumberOfDays,\n  validateQuery90Days,\n} from \"../Assessment\";\nimport EditAssessment from \"../edit/EditAssessment\";\nimport EditQuery from \"../edit/EditQuery\";\n\ninterface AssessmentDetailsProps {\n  data: ApplicationDetailsInterface;\n  openAssessmentDetails: (status: boolean) => void;\n  onSave: (reference_number: string) => void;\n}\n\ninterface AssessmentDetailsState {\n  open_edit_assessment: {\n    selected_level: LevelsValues;\n    selected_round: RoundValues;\n    action_type: \"Update\" | \"Add\";\n    assessment_start_date: string;\n    assessment_end_date: string;\n    assessment_outcome: AssessmentOutcomeValues;\n    assessment_comment: string;\n    done_by: string;\n  } | null;\n  openQuery: {\n    EditQuery: \"Issue\" | \"Response\";\n    selectedRound: RoundValues;\n    application_ref_number: string;\n    query_issued: string;\n    query_issued_date: string;\n    query_response: string;\n    query_response_date: string;\n  } | null;\n}\n\nexport const ValidateAssessmentRound = (\n  round: RoundValues,\n  data: ApplicationDetailsInterface\n) => {\n  const temp_data = [];\n  if (data.assessments.length > 0) {\n    let i = data.assessments.length - 1;\n    while (i >= 0) {\n      temp_data.push(data.assessments[i]);\n      i = i - 1;\n    }\n    // Get data\n    const test = temp_data.find(\n      (itm) =>\n        itm.assessment_round === round &&\n        itm.assessment_level === LevelsValues.LEVEL_TWO\n    );\n    if (\n      test !== undefined &&\n      test.assessment_start_date !== null &&\n      test.assessment_end_date !== null\n    ) {\n      return test;\n    }\n  }\n  return null;\n};\n\nexport const ValidateQueryRound = (\n  round: RoundValues,\n  data: ApplicationDetailsInterface\n) => {\n  const temp_data: AssessmentQueryInterface[] = [];\n  if (data.assessmentqueries.length > 0) {\n    let i = data.assessmentqueries.length - 1;\n    while (i >= 0) {\n      temp_data.push(data.assessmentqueries[i]);\n      i = i - 1;\n    }\n    // Get data\n    const test = temp_data.find((itm) => itm.assessment_round === round);\n    if (\n      test !== undefined &&\n      test.query_issued_date !== null &&\n      test.query_response_date !== null &&\n      test.query_response !== \"\"\n    ) {\n      return test;\n    }\n  }\n  return null;\n};\n\nexport const ValidateDisplayRound = (\n  round: RoundValues,\n  data: ApplicationDetailsInterface\n) => {\n  if (round === RoundValues.ROUND_ONE) {\n    return true;\n  }\n  if (round === RoundValues.ROUND_TWO) {\n    if (ValidateQueryRound(RoundValues.ROUND_ONE, data) !== null) {\n      return true;\n    }\n  }\n  if (round === RoundValues.ROUND_THREE) {\n    if (ValidateQueryRound(RoundValues.ROUND_TWO, data) !== null) {\n      return true;\n    }\n  }\n  if (round === RoundValues.ROUND_FOUR) {\n    if (ValidateQueryRound(RoundValues.ROUND_THREE, data) !== null) {\n      return true;\n    }\n  }\n  return false;\n};\n\nexport const GetEmptyQueryElement = (props: {\n  round: RoundValues;\n  onClick: () => void;\n}) => {\n  return (\n    <div\n      onClick={props.onClick}\n      className=\"col-span-12 sm:cols-span-6 lg:col-span-4 flex flex-col items-center justify-center bg-white rounded border border-white hover:border-yellow-400 hover:bg-yellow-50 hover:text-yellow-700 cursor-pointer w-full h-full group px-2 py-2\"\n    >\n      <div>\n        <MdAddComment className=\"text-6xl text-gray-200 group-hover:text-yellow-700\" />\n      </div>\n      <div className=\"No query found font-normal text-sm\">\n        Query for {GetRoundName(props.round)}\n      </div>\n      <div className=\"text-xs font-bold text-gray-400 group-hover:text-yellow-700\">\n        Click here to add query\n      </div>\n    </div>\n  );\n};\n\nexport const GetQueryElement = (props: {\n  allData: ApplicationDetailsInterface;\n  data: AssessmentQueryInterface;\n  round: RoundValues;\n  onClick: () => void;\n  days_status: boolean;\n}) => {\n  return (\n    <div\n      onClick={props.onClick}\n      className=\"col-span-12 sm:cols-span-6 lg:col-span-4 flex flex-col bg-white rounded border border-white hover:border-primary-300 hover:bg-primary-50 hover:text-primary-900 cursor-pointer w-full h-full group px-3 py-2\"\n    >\n      <div className=\"flex flex-row items-center justify-between w-full\">\n        <div className=\"font-bold group-hover:text-primary-900\">\n          Query issued\n        </div>\n        <div className=\"rounded-full px-2 py-1 bg-primary-50 text-primary-900 font-bold group-hover:bg-primary-800 group-hover:text-white text-left text-xs\">\n          {DATE(props.data.query_issued_date)}\n        </div>\n      </div>\n      <div className=\"w-full text-left text-xs\">\n        <span>{props.data.query_issued}</span>\n      </div>\n      {props.data.query_response_date !== null &&\n      props.data.query_response_date !== \"\" &&\n      props.data.query_response !== \"\" ? (\n        <>\n          <div className=\"border-b w-full border-gray-300 group-hover:border-primary-700 my-3\"></div>\n          <div className=\"flex flex-row items-center justify-between w-full\">\n            <div className=\"font-bold group-hover:text-primary-900\">\n              Query response\n            </div>\n            <div className=\"rounded-full px-2 py-1 bg-primary-50 text-primary-900 font-bold group-hover:bg-primary-800 group-hover:text-white text-left text-xs\">\n              {DATE(props.data.query_response_date)}\n            </div>\n          </div>\n          <div className=\"w-full text-left text-xs\">\n            <span>{props.data.query_response}</span>\n          </div>\n        </>\n      ) : (\n        <div>\n          {/* Verify remaining days */}\n          {props.days_status === false && (\n            <div className=\"text-sm mt-2 font-extrabold bg-red-100 text-red-700 px-1 py-1 rounded-full animate__animated animate__bounceIn animate__infinite\">\n              This is taking{\" \"}\n              {Math.round(queryAnsweringNumberOfDays(props.allData) / 30)}{\" \"}\n              months to get response\n            </div>\n          )}\n          <div className=\"text-lg font-light mt-2 group-hover:underline text-yellow-700\">\n            Click to add response\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport class AssessmentDetails extends Component<\n  AssessmentDetailsProps,\n  AssessmentDetailsState\n> {\n  constructor(props: AssessmentDetailsProps) {\n    super(props);\n\n    this.state = {\n      open_edit_assessment: null,\n      openQuery: null,\n    };\n  }\n  GetLastAssessmentValue = () => {\n    if (this.props.data.assessments.length <= 0) {\n      return null;\n    }\n    const res =\n      this.props.data.assessments[this.props.data.assessments.length - 1];\n    return res;\n  };\n  FilterByRounds = (selected_round: RoundValues) => {\n    return this.props.data.assessments.filter(\n      (itm) => itm.assessment_round === selected_round\n    );\n  };\n  FindDataByLevelRound = (level: LevelsValues, selected_round: RoundValues) => {\n    const temp: AssessmentInterface[] = [];\n    let iteration =\n      this.props.data.assessments.length === 0\n        ? -1\n        : this.props.data.assessments.length - 1;\n    while (iteration >= 0) {\n      temp.push(this.props.data.assessments[iteration]);\n      iteration = iteration - 1;\n    }\n    const res = temp.find(\n      (itm) =>\n        itm.assessment_level === level &&\n        itm.assessment_round === selected_round\n    );\n    if (res === undefined) {\n      return null;\n    }\n    return res;\n  };\n  FindQueriesByRound = (selected_round: RoundValues) => {\n    const test = this.props.data.assessmentqueries.filter(\n      (itm) => itm.assessment_round === selected_round\n    );\n    return test.length === 0 ? [] : [test[test.length - 1]];\n  };\n  GetLastQuery = (round: RoundValues) => {\n    const temp = this.FindQueriesByRound(round);\n    const res = temp.find((itm) => itm.assessment_round === round);\n    if (res !== undefined) {\n      return res;\n    }\n    return null;\n  };\n  componentDidMount = () => {\n    if (this.props.data.assessments.length === 0) {\n      this.setState({\n        open_edit_assessment: {\n          selected_level: LevelsValues.LEVEL_ONE,\n          selected_round: RoundValues.ROUND_ONE,\n          action_type: \"Add\",\n          assessment_comment: \"\",\n          assessment_end_date: \"\",\n          assessment_outcome: AssessmentOutcomeValues.OG,\n          assessment_start_date: \"\",\n          done_by: \"\",\n        },\n      });\n    }\n  };\n\n  SetSelectQuery = (selected_round: RoundValues) => {\n    if (\n      ValidateAssessmentRound(selected_round, this.props.data) !== null &&\n      ValidateAssessmentRound(selected_round, this.props.data)\n        ?.assessment_outcome !== AssessmentOutcomeValues.R &&\n      ValidateAssessmentRound(selected_round, this.props.data)\n        ?.assessment_outcome !== AssessmentOutcomeValues.NR\n    ) {\n      this.setState({\n        openQuery: {\n          EditQuery:\n            this.GetLastQuery(selected_round) === null ? \"Issue\" : \"Response\",\n          selectedRound: selected_round,\n          application_ref_number: this.props.data.application_ref_number,\n          query_issued:\n            this.GetLastQuery(selected_round) === null\n              ? \"\"\n              : this.GetLastQuery(selected_round)!.query_issued,\n          query_issued_date:\n            this.GetLastQuery(selected_round) === null\n              ? \"\"\n              : this.GetLastQuery(selected_round)!.query_issued_date,\n          query_response:\n            this.GetLastQuery(selected_round) === null ||\n            this.GetLastQuery(selected_round)!.query_response === null\n              ? \"\"\n              : this.GetLastQuery(selected_round)!.query_response!,\n          query_response_date:\n            this.GetLastQuery(selected_round) === null ||\n            this.GetLastQuery(selected_round)!.query_response_date === null\n              ? \"\"\n              : this.GetLastQuery(selected_round)!.query_response_date!,\n        },\n      });\n    } else {\n      alert(\"Please you are not allowed to add query!\");\n    }\n  };\n\n  ReturnAssessmentRoundDetails = (props: {\n    title: string;\n    selected_level: LevelsValues;\n    selected_round: RoundValues;\n    waiting_status_component: JSX.Element;\n  }) => {\n    return (\n      <div\n        onClick={() => {\n          if (\n            (props.selected_level === LevelsValues.LEVEL_TWO &&\n              this.FindDataByLevelRound(\n                LevelsValues.LEVEL_ONE,\n                props.selected_round\n              ) !== null) ||\n            props.selected_level === LevelsValues.LEVEL_ONE\n          ) {\n            this.setState({\n              open_edit_assessment: {\n                selected_level: props.selected_level,\n                selected_round: props.selected_round,\n                action_type:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null\n                    ? \"Add\"\n                    : \"Update\",\n                assessment_comment:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null\n                    ? \"\"\n                    : this.FindDataByLevelRound(\n                        props.selected_level,\n                        props.selected_round\n                      )!.assessment_comment,\n                assessment_end_date:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null\n                    ? \"\"\n                    : this.FindDataByLevelRound(\n                        props.selected_level,\n                        props.selected_round\n                      )!.assessment_end_date,\n                assessment_outcome:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null\n                    ? props.selected_round === RoundValues.ROUND_FOUR &&\n                      props.selected_level === LevelsValues.LEVEL_TWO\n                      ? AssessmentOutcomeValues.R\n                      : AssessmentOutcomeValues.OG\n                    : this.FindDataByLevelRound(\n                        props.selected_level,\n                        props.selected_round\n                      )!.assessment_outcome,\n                assessment_start_date:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null\n                    ? \"\"\n                    : this.FindDataByLevelRound(\n                        props.selected_level,\n                        props.selected_round\n                      )!.assessment_start_date,\n                done_by:\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  ) === null ||\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  )!.done_by === undefined\n                    ? \"\"\n                    : this.FindDataByLevelRound(\n                        props.selected_level,\n                        props.selected_round\n                      )!.done_by!,\n              },\n            });\n          } else {\n            alert(\"You are required to complete the first assessment\");\n          }\n        }}\n        className=\"col-span-12 sm:cols-span-6 lg:col-span-4  bg-white rounded-md p-2 py-2 w-full flex flex-row gap-4 cursor-pointer border border-white hover:border-primary-300 hover:bg-primary-50 group h-full\"\n      >\n        <div>\n          <div\n            className={`${\n              this.FindDataByLevelRound(\n                props.selected_level,\n                props.selected_round\n              ) === null\n                ? \"bg-gray-100\"\n                : \"bg-primary-100\"\n            } group-hover:bg-white flex items-center justify-center h-28 w-28 rounded-md`}\n          >\n            <IoShieldCheckmarkSharp\n              className={`text-7xl ${\n                this.FindDataByLevelRound(\n                  props.selected_level,\n                  props.selected_round\n                ) === null\n                  ? \"text-gray-200\"\n                  : \"text-primary-700\"\n              } group-hover:text-primary-800`}\n            />\n          </div>\n        </div>\n        <div className=\"flex flex-col text-left\">\n          <div className=\"text-lg font-bold mb-1 group-hover:text-primary-800\">\n            {props.title}\n          </div>\n          {this.FindDataByLevelRound(\n            props.selected_level,\n            props.selected_round\n          ) === null ? (\n            <div>{props.waiting_status_component}</div>\n          ) : (\n            <div>\n              <div className=\"text-xs\">\n                Start date:{\" \"}\n                {DATE(\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  )!.assessment_start_date\n                )}\n              </div>\n              <div className=\"text-xs\">\n                Ending date:{\" \"}\n                {DATE(\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  )!.assessment_end_date\n                )}\n              </div>\n              <div className=\"text-xs\">\n                Comment:{\" \"}\n                {\n                  this.FindDataByLevelRound(\n                    props.selected_level,\n                    props.selected_round\n                  )!.assessment_comment\n                }\n              </div>\n              <div className=\"my-1\"></div>\n              {\n                <FCGetAssessmentStatusElement\n                  assessment_status={\n                    this.FindDataByLevelRound(\n                      props.selected_level,\n                      props.selected_round\n                    )!.assessment_outcome\n                  }\n                  loading={\n                    GetLastAssessmentValue(this.props.data.assessments)\n                      ?.assessment_level !== LevelsValues.LEVEL_ONE\n                      ? false\n                      : true\n                  }\n                />\n              }\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  validateAssessmentQuery = () => {\n    if (\n      this.props.data.assessmentqueries.length > 0 &&\n      getLastQuery(this.props.data) !== null &&\n      validateQuery90Days(this.props.data) === \"INVALID\" &&\n      (getLastQuery(this.props.data)!.query_response_date === null ||\n        getLastQuery(this.props.data)!.query_response_date !== \"\")\n    ) {\n      return false;\n    }\n    return true;\n  };\n\n  render() {\n    const waiting_status_component = (\n      <div>\n        <div className=\"font-light\">Click here to add details</div>\n        <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-gray-100 text-gray-900 border border-gray-300 font-bold text-xs pr-3 w-max mt-1\">\n          <div>\n            <MdSchedule className=\"text-xl animate-pulse\" />\n          </div>\n          <div>{\"Waiting\"}</div>\n        </div>\n      </div>\n    );\n    if (this.state.open_edit_assessment !== null) {\n      return (\n        <EditAssessment\n          onGoBack={() => {\n            this.setState({ open_edit_assessment: null });\n            if (this.props.data.assessments.length === 0) {\n              this.props.openAssessmentDetails(false);\n            }\n          }}\n          data={this.props.data}\n          onSave={(application_ref_number: string) => {\n            this.setState({ open_edit_assessment: null });\n            this.props.onSave(application_ref_number);\n          }}\n          assessment_level={this.state.open_edit_assessment.selected_level}\n          assessment_round={this.state.open_edit_assessment.selected_round}\n          action_type={this.state.open_edit_assessment.action_type}\n          assessment_start_date={\n            this.state.open_edit_assessment.assessment_start_date\n          }\n          assessment_end_date={\n            this.state.open_edit_assessment.assessment_end_date\n          }\n          assessment_outcome={\n            this.state.open_edit_assessment.assessment_outcome\n          }\n          assessment_comment={\n            this.state.open_edit_assessment.assessment_comment\n          }\n          done_by={this.state.open_edit_assessment.done_by}\n        />\n      );\n    }\n    if (this.state.openQuery !== null) {\n      return (\n        <EditQuery\n          onGoBack={() => {\n            this.setState({ openQuery: null });\n            if (this.props.data.assessments.length === 0) {\n              this.props.openAssessmentDetails(false);\n            }\n          }}\n          onSave={(application_ref_number: string) => {\n            this.setState({ openQuery: null });\n            this.props.onSave(application_ref_number);\n          }}\n          data={this.props.data}\n          EditQuery={this.state.openQuery.EditQuery}\n          selectedRound={this.state.openQuery.selectedRound}\n          application_ref_number={this.state.openQuery.application_ref_number}\n          query_issued={this.state.openQuery.query_issued}\n          query_issued_date={this.state.openQuery.query_issued_date}\n          query_response={this.state.openQuery.query_response}\n          query_response_date={this.state.openQuery.query_response_date}\n        />\n      );\n    }\n    return (\n      <div className=\"animate__animated animate__fadeIn rounded-md bg-white p-3\">\n        <div className=\"flex flex-row items-center gap-2\">\n          <div>\n            <div\n              onClick={() => this.props.openAssessmentDetails(false)}\n              className=\"flex items-center justify-center h-10 w-10 rounded-full bg-gray-100 hover:bg-primary-100 hover:text-primary-900 cursor-pointer\"\n            >\n              <BsArrowLeft className=\"text-2xl\" />\n            </div>\n          </div>\n          <div className=\"font-extrabold text-xl flex flex-col\">\n            <span>Assessment details</span>\n            <span className=\"text-sm font-light\">\n              This is the historical information for application assessment\n              phases\n            </span>\n          </div>\n        </div>\n        {/* Details */}\n        <div className=\"my-3\">\n          {this.props.data.assessments.length === 0 ? (\n            <div className=\"w-full rounded-md bg-gray-200 text-lg font-light px-3 py-2\">\n              No assessment found!\n            </div>\n          ) : (\n            RoundsArray.filter(\n              (itm) => ValidateDisplayRound(itm, this.props.data) === true\n            ).map((selected_round, r) => (\n              <div\n                key={r + 2}\n                className=\"w-full mt-3 bg-gray-100 p-3 rounded-md\"\n              >\n                <div className=\"mb-2 font-bold flex flex-col gap-3 text-base text-gray-500\">\n                  {GetRoundName(selected_round)} assessment details\n                </div>\n                <div className=\"grid grid-cols-12 items-center justify-center text-center gap-3 w-full\">\n                  <this.ReturnAssessmentRoundDetails\n                    selected_level={LevelsValues.LEVEL_ONE}\n                    selected_round={selected_round}\n                    title=\"First assessment\"\n                    waiting_status_component={waiting_status_component}\n                  />\n                  <this.ReturnAssessmentRoundDetails\n                    selected_level={LevelsValues.LEVEL_TWO}\n                    selected_round={selected_round}\n                    title=\"Second assessment\"\n                    waiting_status_component={waiting_status_component}\n                  />\n                  {this.GetLastQuery(selected_round) === null\n                    ? selected_round !== RoundValues.ROUND_FOUR && (\n                        <GetEmptyQueryElement\n                          round={selected_round}\n                          onClick={() => {\n                            this.SetSelectQuery(selected_round);\n                          }}\n                        />\n                      )\n                    : selected_round !== RoundValues.ROUND_FOUR && (\n                        <GetQueryElement\n                          allData={this.props.data}\n                          data={this.GetLastQuery(selected_round)!}\n                          round={selected_round}\n                          onClick={() => {\n                            this.SetSelectQuery(selected_round);\n                          }}\n                          days_status={this.validateAssessmentQuery()}\n                        />\n                      )}\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n        {this.props.data.assessments.length === 0 && (\n          <div className=\"mt-5 flex flex-row items-center gap-2\">\n            <div\n              onClick={() => {\n                this.setState({\n                  open_edit_assessment: {\n                    selected_level: LevelsValues.LEVEL_ONE,\n                    selected_round: RoundValues.ROUND_ONE,\n                    action_type: \"Add\",\n                    assessment_comment: \"\",\n                    assessment_end_date: \"\",\n                    assessment_outcome: AssessmentOutcomeValues.OG,\n                    assessment_start_date: \"\",\n                    done_by: \"\",\n                  },\n                });\n              }}\n              className=\"px-3 py-2 text-sm font-bold rounded-md bg-primary-100 text-primary-900 hover:bg-primary-800 hover:text-white cursor-pointer w-max flex flex-row items-center gap-2\"\n            >\n              <div>\n                <BiMessageSquareEdit className=\"text-2xl\" />\n              </div>\n              <span>Update Assessment</span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { BsInfoCircleFill } from \"react-icons/bs\";\nimport { ApplicationDetailsInterface } from \"../../actions\";\nimport {\n  ApplicationCurrentState,\n  CurrentStatusEnum,\n  GetDaysQueryWaitingForAssessment,\n} from \"./Assessment\";\n\ninterface ApplicationStatusProps {\n  data: ApplicationDetailsInterface;\n}\ninterface ApplicationStatusState {\n  loading: boolean;\n}\n\nexport class ApplicationStatus extends Component<\n  ApplicationStatusProps,\n  ApplicationStatusState\n> {\n  constructor(props: ApplicationStatusProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n  render() {\n    return (\n      <div>\n        {ApplicationCurrentState(this.props.data) !==\n          CurrentStatusEnum.NULL && (\n          <div className=\"flex flex-row items-center gap-3 bg-yellow-50 text-black w-full px-2 py-2 pr-4 border border-yellow-300 rounded-md\">\n            <div>\n              <BsInfoCircleFill className=\"text-5xl text-yellow-700 animate__animated animate__pulse animate__infinite\" />\n            </div>\n            <div className=\"flex flex-col\">\n              <span className=\"font-light text-xl\">\n                {\"Application current step\"}\n              </span>\n              <span className=\"font-extrabold text-sm text-yellow-700\">\n                {ApplicationCurrentState(this.props.data)}{\" \"}\n                {GetDaysQueryWaitingForAssessment(this.props.data) > 0 &&\n                  `FOR ${GetDaysQueryWaitingForAssessment(\n                    this.props.data\n                  )} DAYS`}\n              </span>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport { ApplicationDetailsInterface } from \"../../../actions\";\nimport { commaFy } from \"../../../utils/functions\";\n\ninterface ApplicationDetailsDashboardProps {\n  data: ApplicationDetailsInterface;\n  modal: boolean;\n  onGoBack: () => void;\n}\ninterface ApplicationDetailsDashboardState {\n  loading: boolean;\n}\n\nexport class ApplicationDetailsDashboard extends Component<\n  ApplicationDetailsDashboardProps,\n  ApplicationDetailsDashboardState\n> {\n  constructor(props: ApplicationDetailsDashboardProps) {\n    super(props);\n\n    this.state = {\n      loading: false,\n    };\n  }\n  TotalDownTime = () => {\n    let total = 0;\n    for (const item of this.props.data.assessmentqueries) {\n      total += item.down_time;\n    }\n    return total;\n  };\n  render() {\n    return (\n      <div className=\"-mx-3 -mt-3\">\n        <div\n          className={`bg-gray-200 grid grid-cols-12 gap-3 pb-2 pt-0 ${\n            this.props.modal === true ? \"px-2\" : \"\"\n          }`}\n        >\n          {this.props.modal === true && (\n            <div className=\"col-span-12\">\n              <div className=\"font-extrabold mt-3 mb-3 text-2xl flex flex-row items-center gap-3 px-2\">\n                <div>\n                  <div\n                    onClick={this.props.onGoBack}\n                    className=\"flex items-center justify-center h-10 w-10 bg-white hover:bg-primary-800 hover:text-white rounded-full cursor-pointer\"\n                  >\n                    <BsArrowLeft className=\"text-3xl\" />\n                  </div>\n                </div>\n                <div>Application details</div>\n              </div>\n            </div>\n          )}\n          <div className=\"col-span-12 sm:col-span-6 lg:col-span-3 rounded-md bg-white flex flex-col items-center justify-center p-3 text-center text-primary-800 shadow\">\n            <span className=\"font-extrabold text-3xl\">\n              {commaFy(this.props.data.current_days)}\n            </span>\n            <span className=\"font-bold text-sm\">Current days</span>\n            {/* <span className=\"text-xs\">\n              Difference between todays date and the dates of reception\n            </span> */}\n          </div>\n          <div className=\"col-span-12 sm:col-span-6 lg:col-span-3 rounded-md bg-white flex flex-col items-center justify-center p-3 text-center text-green-600 shadow\">\n            <span className=\"font-extrabold text-3xl\">\n              {commaFy(this.props.data.up_time)}\n            </span>\n            <span className=\"font-bold text-sm\">Up Time</span>\n            {/* <span className=\"text-xs\">\n              Number of days between the issue of the certificate and the date\n              of reception\n            </span> */}\n          </div>\n          <div className=\"col-span-12 sm:col-span-6 lg:col-span-3 rounded-md bg-white flex flex-col items-center justify-center p-3 text-center text-yellow-800 shadow\">\n            <span className=\"font-extrabold text-3xl\">\n              {commaFy(\n                this.props.data.assessmentqueries.length === 0\n                  ? 0\n                  : this.TotalDownTime()\n              )}\n            </span>\n            <span className=\"font-bold text-sm\">Down Time</span>\n            {/* <span className=\"text-xs\">\n              Number of days taken by the applicant to respond to queries\n            </span> */}\n          </div>\n          <div className=\"col-span-12 sm:col-span-6 lg:col-span-3 rounded-md bg-white flex flex-col items-center justify-center p-3 text-center text-gray-600 shadow\">\n            <span className=\"font-extrabold text-3xl\">\n              {this.props.data.up_time === 0\n                ? commaFy(\n                    Math.abs(\n                      this.TotalDownTime() - this.props.data.current_days\n                    )\n                  )\n                : commaFy(\n                    Math.abs(this.TotalDownTime() - this.props.data.up_time)\n                  )}\n            </span>\n            <span className=\"font-bold text-sm\">Processing days</span>\n            {/* <span className=\"text-xs\">\n              Number of days between up time and down time\n            </span> */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport {\n  ApplicationDetailsInterface,\n  AssessmentOutcomeValues,\n  DownloadCertificate,\n  PeerReviewStatusValues,\n  RegistrationStates,\n} from \"../../actions\";\nimport Assessment from \"./Assessment\";\nimport PeerReview from \"./PeerReview\";\nimport Screening from \"./Screening\";\nimport { ScreeningDetails } from \"./details/ScreeningDetails\";\nimport { PeerReviewDetails } from \"./details/PeerReviewDetails\";\nimport { AssessmentDetails } from \"./details/AssessmentDetails\";\nimport { IoMdCheckmarkCircle } from \"react-icons/io\";\nimport { RiErrorWarningLine } from \"react-icons/ri\";\nimport { HiOutlineDownload } from \"react-icons/hi\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { MdAddTask } from \"react-icons/md\";\nimport { RegisterProduct } from \"../RegisterProduct/RegisterProduct\";\nimport { ApplicationStatus } from \"./ApplicationStatus\";\nimport { ApplicationDetailsDashboard } from \"./ApplicationDetailsDashboard/ApplicationDetailsDashboard\";\nimport {\n  CreateApplication,\n  CreateApplicationInterface,\n} from \"../../containers/CreateApplication/CreateApplication\";\nimport { DATE } from \"../../utils/functions\";\n\nexport const getOutcomeValues = (status_value: any) => {\n  if (status_value === AssessmentOutcomeValues.NR) {\n    return \"NOT RECOMMENDED\";\n  }\n  if (status_value === AssessmentOutcomeValues.OG) {\n    return \"ONGOING ASSESSMENT\";\n  }\n  if (status_value === AssessmentOutcomeValues.R) {\n    return \"RECOMMENDED\";\n  }\n  return status_value;\n};\n\ninterface ApplicationDetailsProps {\n  data: ApplicationDetailsInterface;\n  modal: boolean;\n  onClose: () => void;\n  source: \"search\" | \"list\";\n  onUpdate: (reference_number: string) => void;\n  FC_SetSuccess: (msg: string) => void;\n  FC_Error: (msg: string) => void;\n}\n\ninterface ApplicationDetailsState {\n  open_screening: boolean;\n  open_peer_review: boolean;\n  open_assessment: boolean;\n  loading: boolean;\n  register_product: boolean;\n  edit_application: CreateApplicationInterface | null;\n}\n\nexport class ApplicationDetails extends Component<\n  ApplicationDetailsProps,\n  ApplicationDetailsState\n> {\n  constructor(props: ApplicationDetailsProps) {\n    super(props);\n\n    this.state = {\n      open_screening: false,\n      open_peer_review: false,\n      open_assessment: false,\n      loading: false,\n      register_product: false,\n      edit_application: null,\n    };\n  }\n  DownloadRegistrationCertificate = () => {\n    this.setState({ loading: true });\n    DownloadCertificate(\n      this.props.data.application_ref_number,\n      (\n        loading: boolean,\n        feedback: {\n          type: \"success\" | \"error\";\n          msg: string;\n        } | null\n      ) => {\n        this.setState({ loading: loading });\n        if (feedback?.type === \"success\") {\n          this.props.FC_SetSuccess(\n            feedback.msg === \"\"\n              ? \"Certificate downloaded successfully!\"\n              : feedback.msg\n          );\n        } else {\n          if (feedback?.type === \"error\") {\n            if (feedback.msg === \"\") {\n              alert(\"Failed to download, please try again!\");\n            } else {\n              alert(feedback.msg);\n            }\n          }\n        }\n      }\n    );\n  };\n  render() {\n    if (this.state.edit_application !== null) {\n      return (\n        <CreateApplication\n          editData={this.state.edit_application}\n          display={\"Page\"}\n          onBack={() => this.setState({ edit_application: null })}\n          onSave={() => {\n            this.props.onUpdate(\n              this.state.edit_application!.application_ref_number\n            );\n            this.props.FC_SetSuccess(\n              `Data of ${\n                this.state.edit_application!.application_ref_number\n              } application has updated successfully!`\n            );\n            this.setState({ edit_application: null });\n          }}\n          type={\"Edit\"}\n        />\n      );\n    }\n    if (this.state.open_screening === true) {\n      return (\n        <ScreeningDetails\n          data={this.props.data}\n          openScreeningDetails={(status: boolean) =>\n            this.setState({ open_screening: status })\n          }\n          onSave={(reference_number: string) => {\n            this.setState({ open_screening: false });\n            this.props.onUpdate(reference_number);\n            this.props.FC_SetSuccess(\n              `Screening data of ${reference_number} application has updated successfully!`\n            );\n          }}\n          modal={this.props.modal}\n        />\n      );\n    }\n    if (this.state.open_peer_review === true) {\n      return (\n        <PeerReviewDetails\n          data={this.props.data}\n          openPeerReviewDetails={(status: boolean) =>\n            this.setState({ open_peer_review: status })\n          }\n          onSave={(reference_number: string) => {\n            this.setState({ open_peer_review: false });\n            this.props.onUpdate(reference_number);\n            this.props.FC_SetSuccess(\n              `Peer review data of ${reference_number} application has updated successfully!`\n            );\n          }}\n          modal={this.props.modal}\n        />\n      );\n    }\n    if (this.state.open_assessment === true) {\n      return (\n        <AssessmentDetails\n          data={this.props.data}\n          openAssessmentDetails={(status: boolean) =>\n            this.setState({ open_assessment: status })\n          }\n          onSave={(reference_number: string) => {\n            this.setState({ open_screening: false });\n            this.props.onUpdate(reference_number);\n            this.props.FC_SetSuccess(\n              `Assessment Outcome for ${reference_number} application has updated successfully!`\n            );\n          }}\n        />\n      );\n    }\n    if (this.state.register_product === true) {\n      return (\n        <RegisterProduct\n          type={\"Add\"}\n          display={this.props.modal === true ? \"Modal\" : \"Page\"}\n          editData={{\n            application_ref_number: this.props.data.application_ref_number,\n            distribution_category: \"\",\n            name_of_marketing_authorization_holder: \"\",\n            name_of_the_active_ingredient: \"\",\n            pack_size: \"\",\n            pack_type: \"\",\n            registration_number: \"\",\n            shelf_life_in_month: \"\",\n            storage_statement: \"\",\n            therapeutic_indication: \"\",\n            date_ma_certificate_issued_to_applicant: \"\",\n            product_category: \"\",\n          }}\n          onBack={() => this.setState({ register_product: false })}\n          onSave={() => {\n            this.setState({ register_product: false });\n            this.props.onUpdate(this.props.data.application_ref_number);\n            this.props.FC_SetSuccess(\n              `Product for ${this.props.data.application_ref_number} has been registered successfully!`\n            );\n          }}\n        />\n      );\n    }\n    return (\n      <div className=\"animate__animated animate__fadeIn\">\n        <div className=\"mb-3\">\n          <ApplicationDetailsDashboard\n            data={this.props.data}\n            modal={this.props.modal}\n            onGoBack={() => {\n              this.props.onClose();\n            }}\n          />\n        </div>\n        <div className=\"grid grid-cols-12\">\n          <div className=\"col-span-12 lg:col-span-6 pr-5\">\n            <div className=\"text-xl font-extrabold mb-3 flex flex-row items-center justify-between\">\n              <span>Application details</span>\n              <div\n                onClick={() =>\n                  this.setState({\n                    edit_application: {\n                      applicant_address:\n                        this.props.data.applicant_address === null\n                          ? \"\"\n                          : this.props.data.applicant_address,\n                      applicant_name: this.props.data.applicant_name,\n                      application_ref_number:\n                        this.props.data.application_ref_number,\n                      created_by: \"1\",\n                      date_ma_certificate_issued_to_applicant: \"null\",\n                      local_technical_representative:\n                        this.props.data.local_technical_representative,\n                      manufacturer_name_and_country:\n                        this.props.data.manufacturer_name_and_country,\n                      manufacturing_site_address:\n                        this.props.data.manufacturing_site_address === null\n                          ? \"\"\n                          : this.props.data.manufacturing_site_address,\n                      product_brand_name: this.props.data.product_brand_name,\n                      product_common_name: this.props.data.product_common_name,\n                      product_dosage_form: this.props.data.product_dosage_form,\n                      product_strength: this.props.data.product_strength,\n                      registration_Status: this.props.data.registration_Status,\n                      submission_date: this.props.data.submission_date,\n                    },\n                  })\n                }\n                className=\"bg-primary-100 text-primary-900 hover:text-white hover:bg-primary-800 rounded font-bold text-sm w-max px-3 py-2 cursor-pointer\"\n              >\n                Edit application\n              </div>\n            </div>\n            {/* Other data */}\n            <div className=\"animate__animated animate__fadeIn\">\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Reference Number</span>\n                <div className=\"rounded-xl px-2 border border-white font-semibold bg-primary-100 text-primary-900 w-max text-sm\">\n                  {this.props.data.application_ref_number}\n                </div>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Submission date</span>\n                <div className=\"rounded-xl px-2 border border-white font-semibold bg-primary-100 text-primary-900 w-max text-sm\">\n                  {DATE(this.props.data.submission_date)}\n                </div>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Applicant Names</span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.applicant_name}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Brand Name</span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.product_brand_name}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Product common name</span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.product_common_name}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">\n                  Country of manufacturer\n                </span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.manufacturer_name_and_country}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">Product strength</span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.product_strength}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">\n                  Product dosage form and appearance\n                </span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.product_dosage_form}\n                </span>\n              </div>\n              <div className=\"flex flex-col my-3 bg-gray-100 rounded-lg px-2 py-2\">\n                <span className=\"text-sm font-light\">\n                  Local Technical Representative (LTR)\n                </span>\n                <span className=\"text-sm font-semibold\">\n                  {this.props.data.local_technical_representative}\n                </span>\n              </div>\n            </div>\n          </div>\n          <div className=\"col-span-12 lg:col-span-6\">\n            <div className=\"text-xl font-extrabold mb-3\">The progress</div>\n            {/* Details here */}\n            <div className=\"flex flex-col gap-3 w-full\">\n              <ApplicationStatus data={this.props.data} />\n              <Screening\n                data={this.props.data}\n                openScreeningDetails={(status: boolean) =>\n                  this.setState({ open_screening: status })\n                }\n              />\n              <Assessment\n                data={this.props.data}\n                openAssessmentDetails={(status: boolean) =>\n                  this.setState({ open_assessment: status })\n                }\n              />\n              <PeerReview\n                data={this.props.data}\n                openPeerReview={(status: boolean) =>\n                  this.setState({ open_peer_review: status })\n                }\n              />\n              <div className=\"flex flex-row items-center justify-between gap-3 my-4 border rounded-md px-4 py-3 bg-gray-100\">\n                <div className=\"flex flex-col gap-2\">\n                  <span className=\"text-sm font-bold\">\n                    Application registration status\n                  </span>\n                  {this.props.data.registration_Status ===\n                  RegistrationStates.REGISTERED ? (\n                    <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-green-50 text-green-700 border border-green-400 font-bold text-xs pr-3 w-max\">\n                      <div>\n                        <IoMdCheckmarkCircle className=\"text-2xl\" />\n                      </div>\n                      <div>{this.props.data.registration_Status}</div>\n                    </div>\n                  ) : (\n                    <div className=\"flex flex-row items-center gap-2 rounded-full p-1 bg-gray-50 text-gray-700 border border-gray-300 font-bold text-xs pr-3 w-max\">\n                      <div>\n                        <RiErrorWarningLine className=\"text-2xl animate-pulse\" />\n                      </div>\n                      <div>\n                        {getOutcomeValues(this.props.data.registration_Status)}\n                      </div>\n                    </div>\n                  )}\n                </div>\n                {this.props.data.registration_Status ===\n                  RegistrationStates.REGISTERED && (\n                  <div\n                    onClick={() => {\n                      this.DownloadRegistrationCertificate();\n                    }}\n                    className=\"flex flex-row items-center justify-center gap-2 px-3 py-2 rounded-md cursor-pointer bg-white hover:bg-green-600 text-green-700 hover:text-white font-bold text-sm border border-green-600 w-max\"\n                  >\n                    <div>\n                      {this.state.loading === true ? (\n                        <AiOutlineLoading3Quarters className=\"text-2xl animate-spin\" />\n                      ) : (\n                        <HiOutlineDownload className=\"text-2xl\" />\n                      )}\n                    </div>\n                    <span>Registration Certificate</span>\n                  </div>\n                )}\n                {this.props.data.registration_Status !==\n                  RegistrationStates.REGISTERED &&\n                  this.props.data.peerreviews.length > 0 &&\n                  this.props.data.peerreviews[\n                    this.props.data.peerreviews.length - 1\n                  ].status.toUpperCase() ===\n                    PeerReviewStatusValues.approved.toUpperCase() && (\n                    <div\n                      onClick={() => {\n                        this.setState({ register_product: true });\n                      }}\n                      className=\"flex flex-row items-center justify-center gap-2 px-3 py-2 rounded-md cursor-pointer bg-primary-800 hover:bg-primary-900 text-white font-bold text-sm w-max\"\n                    >\n                      <div>\n                        {this.state.loading === true ? (\n                          <AiOutlineLoading3Quarters className=\"text-2xl animate-spin\" />\n                        ) : (\n                          <MdAddTask className=\"text-2xl\" />\n                        )}\n                      </div>\n                      <span>Register product now</span>\n                    </div>\n                  )}\n              </div>\n            </div>\n            {\n              <div className=\"mt-8 flex flex-row justify-end\">\n                {/* <div\n                  onClick={() =>\n                    this.setState({\n                      edit_application: {\n                        applicant_address:\n                          this.props.data.applicant_address === null\n                            ? \"\"\n                            : this.props.data.applicant_address,\n                        applicant_name: this.props.data.applicant_name,\n                        application_ref_number:\n                          this.props.data.application_ref_number,\n                        created_by: \"1\",\n                        date_ma_certificate_issued_to_applicant: \"null\",\n                        local_technical_representative:\n                          this.props.data.local_technical_representative,\n                        manufacturer_name_and_country:\n                          this.props.data.manufacturer_name_and_country,\n                        manufacturing_site_address:\n                          this.props.data.manufacturing_site_address === null\n                            ? \"\"\n                            : this.props.data.manufacturing_site_address,\n                        product_brand_name: this.props.data.product_brand_name,\n                        product_common_name:\n                          this.props.data.product_common_name,\n                        product_dosage_form:\n                          this.props.data.product_dosage_form,\n                        product_strength: this.props.data.product_strength,\n                        registration_Status:\n                          this.props.data.registration_Status,\n                        submission_date: this.props.data.submission_date,\n                      },\n                    })\n                  }\n                  className=\"bg-primary-100 text-primary-900 hover:text-white hover:bg-primary-800 rounded font-bold text-sm w-max px-3 py-2 cursor-pointer\"\n                >\n                  Edit application\n                </div> */}\n                {this.props.modal === true && (\n                  <div\n                    onClick={this.props.onClose}\n                    className=\"bg-gray-500 text-white hover:bg-gray-600 rounded font-bold text-sm w-max px-3 py-2 cursor-pointer\"\n                  >\n                    Close window\n                  </div>\n                )}\n              </div>\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/**\n * @description Modal design\n * @done_by Niyongabo\n */\nimport { MdClose } from \"react-icons/md\";\n\nexport enum Themes {\n  default = \"default\",\n  primary = \"primary\",\n  secondary = \"secondary\",\n  danger = \"danger\",\n  success = \"success\",\n  warning = \"warning\",\n}\n\nexport enum ModalMarginTop {\n  none = \"top-0\",\n  small = \"top-28\",\n  medium = \"top-1/3\",\n  large = \"top-1/2\",\n  extra = \"top-2/3\",\n}\n\nexport enum ModalSize {\n  small = \"max-w-sm\",\n  medium = \"max-w-screen-sm\",\n  large = \"max-w-screen-md\",\n  extraLarge = \"max-w-screen-lg\",\n  maxWidth = \"max-w-screen h-full\",\n}\n\ninterface ModalInterface {\n  title?: any;\n  backDrop: boolean;\n  theme: Themes;\n  close: Function;\n  backDropClose: boolean;\n  footer?: any;\n  children: any;\n  widthSizeClass: ModalSize;\n  displayClose: boolean;\n  padding: { title?: boolean; body?: boolean; footer?: boolean };\n  marginTop?: ModalMarginTop;\n}\n\nconst Modal = (props: ModalInterface): JSX.Element => {\n  const {\n    title,\n    backDrop,\n    theme,\n    close,\n    backDropClose,\n    widthSizeClass,\n    displayClose,\n    padding = { title: true, body: true, footer: true },\n  }: ModalInterface = props;\n\n  let themeColor: string;\n\n  switch (theme) {\n    case Themes.primary:\n      themeColor = \"blue-500\";\n      break;\n    case Themes.secondary:\n      themeColor = \"gray-300\";\n      break;\n    case Themes.danger:\n      themeColor = \"red-500\";\n      break;\n    case Themes.success:\n      themeColor = \"primary-800\";\n      break;\n    case Themes.warning:\n      themeColor = \"yellow-500\";\n      break;\n    default:\n      themeColor = \"white\";\n      break;\n  }\n  return (\n    <>\n      <div\n        onClick={(): void => backDropClose && close()}\n        className={`z-50 animate__animated animate__fadeIn animate__faster modal fixed bg-black bg-opacity-${\n          backDrop === true ? \"60\" : \"0\"\n        }`}\n      ></div>\n      <div\n        className={`z-50 fixed items-center justify-items-center ${\n          props.marginTop === undefined ? ModalMarginTop.none : props.marginTop\n        } left-0 right-0 bottom-0 bg-white rounded shadow-xl self-center ${widthSizeClass} animate__animated ${\n          props.marginTop !== undefined &&\n          props.marginTop !== ModalMarginTop.none\n            ? \"animate__fadeInUp\"\n            : \"animate__zoomIn\"\n        } animate__faster`}\n        style={{\n          width: \"100%\",\n          maxHeight: \"99vh\",\n          height: `${\n            widthSizeClass === ModalSize.maxWidth\n              ? props.marginTop === undefined\n                ? \"100%\"\n                : \"unset\"\n              : \"fit-content\"\n          }`,\n          overflowY: \"auto\",\n          margin: \"auto\",\n          zIndex: 99999999,\n        }}\n      >\n        <div\n          className={`flex justify-between bg-${themeColor} ${\n            padding.title === true ? \"py-4 px-4\" : \"\"\n          } rounded-t text-${\n            theme === Themes.default || theme === Themes.secondary\n              ? \"black\"\n              : \"white\"\n          }`}\n        >\n          {!title || title === \"\" ? (\n            <div></div>\n          ) : (\n            <h4 className={`text-lg font-bold `}>{title}</h4>\n          )}\n          {displayClose === false ? (\n            \"\"\n          ) : (\n            <div className=\"hover:text-red-600 hover:bg-red-100 rounded-full p-1 h-8 w-8\">\n              <MdClose\n                className=\"cursor-pointer font-extrabold text-2xl\"\n                onClick={(): void => close()}\n              />\n            </div>\n          )}\n        </div>\n        <div\n          className={`space-x-3 ${padding.body === true ? \"py-4 px-4\" : \"\"}`}\n        >\n          <div>{props.children !== \"\" ? props.children : \"\"}</div>\n        </div>\n        {props.footer !== undefined && props.footer !== \"\" ? (\n          <div\n            className={`flex float-right ${\n              padding.footer === true ? \"py-4 px-4\" : \"\"\n            }`}\n          >\n            {props.footer}\n          </div>\n        ) : (\n          \"\"\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport { IoAddCircleOutline, IoSaveOutline } from \"react-icons/io5\";\nimport { FC_RegisterProduct } from \"../../actions\";\nimport Alert, { AlertType } from \"../Alert/Alert\";\nimport MainContainer from \"../MainContainer/MainContainer\";\n\nexport const FormInput = (props: {\n  title: string;\n  value: string;\n  onChange: (value: string) => void;\n  type: \"text\" | \"number\" | \"date\";\n  disabled: boolean;\n  error: {\n    target: string;\n    msg: string;\n  };\n  error_key_name: string;\n  onCloseError: () => void;\n}) => {\n  return (\n    <div className=\"w-full\">\n      <span className=\"text-sm\">{props.title}</span>\n      <input\n        type={props.type}\n        value={props.value}\n        onChange={(e) => {\n          props.onChange(e.target.value);\n        }}\n        disabled={props.disabled}\n        className={`px-3 py-2 rounded-md border font-bold ${\n          props.error.target === props.error_key_name\n            ? \"border-red-600\"\n            : \"border-primary-800\"\n        } w-full text-sm`}\n      />\n      {props.error.target === props.error_key_name && (\n        <Alert\n          alertType={AlertType.DANGER}\n          title={\n            props.error.target === props.error_key_name\n              ? \"Invalid input!\"\n              : \"Error Occurred\"\n          }\n          description={props.error.msg}\n          close={props.onCloseError}\n        />\n      )}\n    </div>\n  );\n};\n\nexport interface RegisterProductDataInterface {\n  registration_number: string;\n  application_ref_number: string;\n  name_of_the_active_ingredient: string;\n  therapeutic_indication: string;\n  pack_size: string;\n  pack_type: string;\n  shelf_life_in_month: string;\n  storage_statement: string;\n  distribution_category: string;\n  name_of_marketing_authorization_holder: string;\n  date_ma_certificate_issued_to_applicant: string;\n  product_category: string;\n}\n\ninterface RegisterProductProps {\n  type: \"Edit\" | \"Add\";\n  display: \"Page\" | \"Modal\";\n  editData: RegisterProductDataInterface;\n  onBack: () => void;\n  onSave: () => void;\n}\ninterface RegisterProductState {\n  registration_number: string;\n  application_ref_number: string;\n  name_of_the_active_ingredient: string;\n  therapeutic_indication: string;\n  pack_size: string;\n  pack_type: string;\n  shelf_life_in_month: string;\n  storage_statement: string;\n  distribution_category: string;\n  name_of_marketing_authorization_holder: string;\n  date_ma_certificate_issued_to_applicant: string;\n  product_category: string;\n  loading: boolean;\n  success: string;\n  error: {\n    target:\n      | \"registration_number\"\n      | \"application_ref_number\"\n      | \"name_of_the_active_ingredient\"\n      | \"therapeutic_indication\"\n      | \"pack_size\"\n      | \"pack_type\"\n      | \"shelf_life_in_month\"\n      | \"storage_statement\"\n      | \"distribution_category\"\n      | \"name_of_marketing_authorization_holder\"\n      | \"date_ma_certificate_issued_to_applicant\"\n      | \"product_category\"\n      | \"main\";\n    msg: string;\n  } | null;\n}\n\nexport class RegisterProduct extends Component<\n  RegisterProductProps,\n  RegisterProductState\n> {\n  constructor(props: RegisterProductProps) {\n    super(props);\n\n    this.state = {\n      registration_number: this.props.editData.registration_number,\n      application_ref_number: this.props.editData.application_ref_number,\n      name_of_the_active_ingredient:\n        this.props.editData.name_of_the_active_ingredient,\n      therapeutic_indication: this.props.editData.therapeutic_indication,\n      pack_size: this.props.editData.pack_size,\n      pack_type: this.props.editData.pack_type,\n      shelf_life_in_month: this.props.editData.shelf_life_in_month,\n      storage_statement: this.props.editData.storage_statement,\n      distribution_category: this.props.editData.distribution_category,\n      name_of_marketing_authorization_holder:\n        this.props.editData.name_of_marketing_authorization_holder,\n      date_ma_certificate_issued_to_applicant:\n        this.props.editData.date_ma_certificate_issued_to_applicant === \"\"\n          ? \"\"\n          : this.props.editData.date_ma_certificate_issued_to_applicant,\n      product_category:\n        this.props.editData.product_category === null ||\n        this.props.editData.product_category === undefined\n          ? \"\"\n          : this.props.editData.product_category,\n      loading: false,\n      success: \"\",\n      error: null,\n    };\n  }\n  saveProductDetails = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.registration_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"registration_number\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.name_of_the_active_ingredient === \"\") {\n      return this.setState({\n        error: {\n          target: \"name_of_the_active_ingredient\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.therapeutic_indication === \"\") {\n      return this.setState({\n        error: {\n          target: \"therapeutic_indication\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.pack_size === \"\") {\n      return this.setState({\n        error: {\n          target: \"pack_size\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.pack_type === \"\") {\n      return this.setState({\n        error: {\n          target: \"pack_type\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.shelf_life_in_month === \"\") {\n      return this.setState({\n        error: {\n          target: \"shelf_life_in_month\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.storage_statement === \"\") {\n      return this.setState({\n        error: {\n          target: \"storage_statement\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.distribution_category === \"\") {\n      return this.setState({\n        error: {\n          target: \"distribution_category\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.name_of_marketing_authorization_holder === \"\") {\n      return this.setState({\n        error: {\n          target: \"name_of_marketing_authorization_holder\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.date_ma_certificate_issued_to_applicant === \"\") {\n      return this.setState({\n        error: {\n          target: \"date_ma_certificate_issued_to_applicant\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (\n      this.state.product_category === \"\" ||\n      this.state.product_category.length < 2\n    ) {\n      return this.setState({\n        error: {\n          target: \"product_category\",\n          msg: \"Please select product category\",\n        },\n      });\n    }\n    this.setState({ loading: true });\n    // Save the data\n    const data: RegisterProductDataInterface = {\n      registration_number: this.state.registration_number,\n      application_ref_number: this.state.application_ref_number,\n      name_of_the_active_ingredient: this.state.name_of_the_active_ingredient,\n      therapeutic_indication: this.state.therapeutic_indication,\n      pack_size: this.state.pack_size,\n      pack_type: this.state.pack_type,\n      shelf_life_in_month: this.state.shelf_life_in_month,\n      storage_statement: this.state.storage_statement,\n      distribution_category: this.state.distribution_category,\n      name_of_marketing_authorization_holder:\n        this.state.name_of_marketing_authorization_holder,\n      date_ma_certificate_issued_to_applicant:\n        this.state.date_ma_certificate_issued_to_applicant,\n      product_category: this.state.product_category,\n    };\n    console.log(\"Submitted data: \", data);\n    FC_RegisterProduct(\n      data,\n      this.props.type === \"Add\" ? \"Add\" : \"Update\",\n      (\n        loading: boolean,\n        feedback: { type: \"success\" | \"error\"; msg: string } | null\n      ) => {\n        this.setState({ loading: loading });\n        if (feedback !== null) {\n          if (feedback.type === \"success\") {\n            this.props.onSave();\n          }\n          if (feedback.type === \"error\") {\n            this.setState({\n              error: {\n                target: \"main\",\n                msg: feedback.msg,\n              },\n            });\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <MainContainer className=\"mt-3 animate__animated animate__fadeIn\">\n          <div className=\"\">\n            <div className=\"flex flex-row items-center gap-3 mb-3\">\n              <div className=\"\">\n                <div\n                  onClick={this.props.onBack}\n                  className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n                >\n                  {this.props.type === \"Edit\" ? (\n                    <BsArrowLeft className=\"text-3xl\" />\n                  ) : (\n                    <IoAddCircleOutline className=\"text-3xl\" />\n                  )}\n                </div>\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-xl font-extrabold\">\n                  {this.props.type === \"Edit\"\n                    ? \"Edit the product\"\n                    : \"Register a product\"}\n                </span>\n                <span className=\"text-xs\">\n                  Fill the following product details before submit\n                </span>\n              </div>\n            </div>\n            <form\n              onSubmit={this.saveProductDetails}\n              className=\"grid grid-cols-12 gap-3 w-full\"\n            >\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Product registration number\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.registration_number}\n                  onChange={(value: string) => {\n                    this.setState({ registration_number: value, error: null });\n                  }}\n                  error_key_name={\"registration_number\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Name of the active ingredient\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.name_of_the_active_ingredient}\n                  onChange={(value: string) => {\n                    this.setState({\n                      name_of_the_active_ingredient: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"name_of_the_active_ingredient\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Therapeutic indication\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.therapeutic_indication}\n                  onChange={(value: string) => {\n                    this.setState({\n                      therapeutic_indication: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"therapeutic_indication\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Pack size\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.pack_size}\n                  onChange={(value: string) => {\n                    this.setState({\n                      pack_size: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"pack_size\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Packaging type\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.pack_type}\n                  onChange={(value: string) => {\n                    this.setState({\n                      pack_type: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"pack_type\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Shelf life in month\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.shelf_life_in_month}\n                  onChange={(value: string) => {\n                    this.setState({\n                      shelf_life_in_month: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"shelf_life_in_month\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Storage statement\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.storage_statement}\n                  onChange={(value: string) => {\n                    this.setState({\n                      storage_statement: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"storage_statement\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Distribution category\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.distribution_category}\n                  onChange={(value: string) => {\n                    this.setState({\n                      distribution_category: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"distribution_category\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Name of marketing authorization holder\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.name_of_marketing_authorization_holder}\n                  onChange={(value: string) => {\n                    this.setState({\n                      name_of_marketing_authorization_holder: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"name_of_marketing_authorization_holder\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Date of certificate issued to applicant\"\n                  type=\"date\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.date_ma_certificate_issued_to_applicant}\n                  onChange={(value: string) => {\n                    this.setState({\n                      date_ma_certificate_issued_to_applicant: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"date_ma_certificate_issued_to_applicant\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <span className=\"text-sm\">\n                  Choose product category{\" \"}\n                  {console.log(\"test : \", this.state.product_category)}\n                </span>\n                <select\n                  className={`border ${\n                    this.state.error !== null &&\n                    this.state.error.target === \"product_category\"\n                      ? \"border-red-600 text-red-600\"\n                      : \"border-primary-800\"\n                  }  rounded-md px-3 py-2 w-full font-bold mb-2`}\n                  value={this.state.product_category}\n                  onChange={(e) =>\n                    this.setState({\n                      product_category: e.target.value,\n                      error: null,\n                    })\n                  }\n                >\n                  <option value=\"\">Choose product category</option>\n                  <option value=\"Human Medicinal Products\">\n                    Human Medicinal Products\n                  </option>\n                  <option value=\"Human Biological Products\">\n                    Human Biological Products\n                  </option>\n                </select>\n                {this.state.error !== null &&\n                  this.state.error.target === \"product_category\" && (\n                    <Alert\n                      alertType={AlertType.DANGER}\n                      title={\"Invalid input!\"}\n                      description={this.state.error.msg}\n                      close={() => {\n                        this.setState({\n                          error: null,\n                        });\n                      }}\n                    />\n                  )}\n              </div>\n              <div className=\"col-span-6\">\n                {this.state.error !== null &&\n                  this.state.error.target === \"main\" && (\n                    <div className=\"w-full mt-3\">\n                      {this.state.error.msg !== \"\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\n                            this.state.error.target === \"main\"\n                              ? \"Invalid input!\"\n                              : \"Error Occurred\"\n                          }\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      )}\n                    </div>\n                  )}\n                <button\n                  type=\"submit\"\n                  className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900 mt-5\"\n                >\n                  <div>\n                    {this.state.loading === true ? (\n                      <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                    ) : (\n                      <IoSaveOutline className=\"text-xl\" />\n                    )}\n                  </div>\n                  <span>\n                    {this.state.loading === true\n                      ? \"Loading, please wait...\"\n                      : \"Save changes\"}\n                  </span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </MainContainer>\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { AiOutlineLoading3Quarters } from \"react-icons/ai\";\nimport { BsArrowLeft } from \"react-icons/bs\";\nimport { IoSaveOutline } from \"react-icons/io5\";\nimport { connect } from \"react-redux\";\nimport { Auth, FC_CreateApplication, System } from \"../../actions\";\nimport Alert, { AlertType } from \"../../components/Alert/Alert\";\nimport MainContainer from \"../../components/MainContainer/MainContainer\";\nimport { StoreState } from \"../../reducers\";\n\nexport const FormInput = (props: {\n  title: string;\n  value: string;\n  onChange: (value: string) => void;\n  type: \"text\" | \"number\" | \"date\";\n  disabled: boolean;\n  error: {\n    target: string;\n    msg: string;\n  };\n  error_key_name: string;\n  onCloseError: () => void;\n}) => {\n  return (\n    <div className=\"w-full\">\n      <span className=\"text-sm\">{props.title}</span>\n      <input\n        type={props.type}\n        value={props.value}\n        onChange={(e) => {\n          props.onChange(e.target.value);\n        }}\n        disabled={props.disabled}\n        className={`px-3 py-2 rounded-md border font-bold ${\n          props.error.target === props.error_key_name\n            ? \"border-red-600\"\n            : \"border-primary-800\"\n        } w-full text-sm`}\n      />\n      {props.error.target === props.error_key_name && (\n        <Alert\n          alertType={AlertType.DANGER}\n          title={\n            props.error.target === props.error_key_name\n              ? \"Invalid input!\"\n              : \"Error Occurred\"\n          }\n          description={props.error.msg}\n          close={props.onCloseError}\n        />\n      )}\n    </div>\n  );\n};\n\nexport interface CreateApplicationInterface {\n  application_ref_number: string;\n  submission_date: string;\n  product_brand_name: string;\n  product_common_name: string;\n  product_strength: string;\n  product_dosage_form: string;\n  manufacturer_name_and_country: string;\n  manufacturing_site_address: string;\n  applicant_name: string;\n  applicant_address: string;\n  local_technical_representative: string;\n  date_ma_certificate_issued_to_applicant: string | null;\n  registration_Status: string;\n  created_by: string;\n}\n\ninterface CreateApplicationProps {\n  auth: Auth;\n  system: System;\n  type?: \"Edit\" | \"Add\";\n  display?: \"Page\" | \"Modal\";\n  editData?: CreateApplicationInterface;\n  onBack?: () => void;\n  onSave?: () => void;\n}\ninterface CreateApplicationState {\n  application_ref_number: string;\n  submission_date: string;\n  product_brand_name: string;\n  product_common_name: string;\n  product_strength: string;\n  product_dosage_form: string;\n  manufacturer_name_and_country: string;\n  manufacturing_site_address: string;\n  applicant_name: string;\n  applicant_address: string;\n  local_technical_representative: string;\n  date_ma_certificate_issued_to_applicant: string | null;\n  registration_Status: string;\n  loading: boolean;\n  success: string;\n  error: {\n    target:\n      | \"application_ref_number\"\n      | \"submission_date\"\n      | \"product_brand_name\"\n      | \"product_common_name\"\n      | \"product_strength\"\n      | \"product_dosage_form\"\n      | \"manufacturer_name_and_country\"\n      | \"manufacturing_site_address\"\n      | \"applicant_name\"\n      | \"applicant_address\"\n      | \"local_technical_representative\"\n      | \"date_ma_certificate_issued_to_applicant\"\n      | \"main\";\n    msg: string;\n  } | null;\n}\n\nexport class _CreateApplication extends Component<\n  CreateApplicationProps,\n  CreateApplicationState\n> {\n  constructor(props: CreateApplicationProps) {\n    super(props);\n\n    this.state = {\n      applicant_address:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.applicant_address,\n      application_ref_number:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.application_ref_number,\n      date_ma_certificate_issued_to_applicant:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.date_ma_certificate_issued_to_applicant,\n      local_technical_representative:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.local_technical_representative,\n      manufacturing_site_address:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.manufacturing_site_address,\n      manufacturer_name_and_country:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.manufacturer_name_and_country,\n      product_brand_name:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.product_brand_name,\n      product_common_name:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.product_common_name,\n      product_dosage_form:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.product_dosage_form,\n      product_strength:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.product_strength,\n      registration_Status:\n        this.props.editData === undefined\n          ? \"NOT_SCREENED\"\n          : this.props.editData.registration_Status,\n      submission_date:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.submission_date,\n      applicant_name:\n        this.props.editData === undefined\n          ? \"\"\n          : this.props.editData.applicant_name,\n\n      loading: false,\n      success: \"\",\n      error: null,\n    };\n  }\n  saveProductDetails = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    if (this.state.applicant_name === \"\") {\n      return this.setState({\n        error: {\n          target: \"applicant_name\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.application_ref_number === \"\") {\n      return this.setState({\n        error: {\n          target: \"application_ref_number\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    // if (this.state.date_ma_certificate_issued_to_applicant === \"\") {\n    //   return this.setState({\n    //     error: {\n    //       target: \"date_ma_certificate_issued_to_applicant\",\n    //       msg: \"This field is required\",\n    //     },\n    //   });\n    // }\n    if (this.state.local_technical_representative === \"\") {\n      return this.setState({\n        error: {\n          target: \"local_technical_representative\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.manufacturer_name_and_country === \"\") {\n      return this.setState({\n        error: {\n          target: \"manufacturer_name_and_country\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.manufacturing_site_address === \"\") {\n      return this.setState({\n        error: {\n          target: \"manufacturing_site_address\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.product_brand_name === \"\") {\n      return this.setState({\n        error: {\n          target: \"product_brand_name\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.product_common_name === \"\") {\n      return this.setState({\n        error: {\n          target: \"product_common_name\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.product_dosage_form === \"\") {\n      return this.setState({\n        error: {\n          target: \"product_dosage_form\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.product_strength === \"\") {\n      return this.setState({\n        error: {\n          target: \"product_strength\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    if (this.state.submission_date === \"\") {\n      return this.setState({\n        error: {\n          target: \"submission_date\",\n          msg: \"This field is required\",\n        },\n      });\n    }\n    this.setState({ loading: true });\n    // Save the data\n    const data: CreateApplicationInterface = {\n      applicant_address: this.state.applicant_address,\n      application_ref_number: this.state.application_ref_number,\n      date_ma_certificate_issued_to_applicant: \"null\",\n      local_technical_representative: this.state.local_technical_representative,\n      manufacturing_site_address: this.state.manufacturing_site_address,\n      manufacturer_name_and_country: this.state.manufacturer_name_and_country,\n      product_brand_name: this.state.product_brand_name,\n      product_common_name: this.state.product_common_name,\n      product_dosage_form: this.state.product_dosage_form,\n      product_strength: this.state.product_strength,\n      registration_Status: this.state.registration_Status,\n      submission_date: this.state.submission_date,\n      applicant_name: this.state.applicant_name,\n      created_by:\n        this.props.auth.user === null\n          ? \"No user selected\"\n          : this.props.auth.user.user_id, //User did the action\n    };\n    console.log(\"Submitted data: \", data);\n    FC_CreateApplication(\n      data,\n      this.props.type === undefined || this.props.type === \"Add\"\n        ? \"Add\"\n        : \"Update\",\n      (\n        loading: boolean,\n        feedback: { type: \"success\" | \"error\"; msg: string } | null\n      ) => {\n        this.setState({ loading: loading });\n        if (feedback !== null) {\n          if (feedback.type === \"success\") {\n            this.setState({ success: feedback.msg, error: null });\n            this.props.onSave && this.props.onSave();\n          }\n          if (feedback.type === \"error\") {\n            this.setState({\n              error: {\n                target: \"main\",\n                msg: feedback.msg,\n              },\n            });\n          }\n        }\n      }\n    );\n  };\n  render() {\n    return (\n      <div>\n        <MainContainer className=\"mt-3 animate__animated animate__fadeIn\">\n          <div className=\"\">\n            <div className=\"flex flex-row items-center gap-3 mb-3\">\n              <div className=\"\">\n                <div\n                  onClick={this.props.onBack}\n                  className={`bg-gray-100 cursor-pointer hover:bg-primary-100 hover:text-primary-800 flex items-center justify-center h-10 w-10 rounded-full`}\n                >\n                  <BsArrowLeft className=\"text-3xl\" />\n                </div>\n              </div>\n              <div className=\"flex flex-col\">\n                <span className=\"text-xl font-extrabold\">\n                  {this.props.type === \"Edit\"\n                    ? \"Edit the application\"\n                    : \"Create new application\"}\n                </span>\n                <span className=\"text-xs\">\n                  Fill the following application details before submit\n                </span>\n              </div>\n            </div>\n            <form\n              onSubmit={this.saveProductDetails}\n              className=\"grid grid-cols-6 md:grid-cols-12 gap-3 w-full\"\n            >\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Applicant name\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.applicant_name}\n                  onChange={(value: string) => {\n                    this.setState({ applicant_name: value, error: null });\n                  }}\n                  error_key_name={\"applicant_name\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Reference number\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.application_ref_number}\n                  onChange={(value: string) => {\n                    this.setState({\n                      application_ref_number: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"application_ref_number\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Applicant address\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.applicant_address}\n                  onChange={(value: string) => {\n                    this.setState({\n                      applicant_address: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"applicant_address\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Local technical representative\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.local_technical_representative}\n                  onChange={(value: string) => {\n                    this.setState({\n                      local_technical_representative: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"local_technical_representative\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Manufacturer name and country\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.manufacturer_name_and_country}\n                  onChange={(value: string) => {\n                    this.setState({\n                      manufacturer_name_and_country: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"manufacturer_name_and_country\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Manufacturing site address\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.manufacturing_site_address}\n                  onChange={(value: string) => {\n                    this.setState({\n                      manufacturing_site_address: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"manufacturing_site_address\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Product brand name\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.product_brand_name}\n                  onChange={(value: string) => {\n                    this.setState({\n                      product_brand_name: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"product_brand_name\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"product common name\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.product_common_name}\n                  onChange={(value: string) => {\n                    this.setState({\n                      product_common_name: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"product_common_name\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Product dosage form and appearance\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.product_dosage_form}\n                  onChange={(value: string) => {\n                    this.setState({\n                      product_dosage_form: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"product_dosage_form\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Product strength\"\n                  type=\"text\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.product_strength}\n                  onChange={(value: string) => {\n                    this.setState({\n                      product_strength: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"product_strength\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6 flex flex-col w-full\">\n                <FormInput\n                  title=\"Submission date\"\n                  type=\"date\"\n                  disabled={this.state.loading}\n                  error={\n                    this.state.error === null\n                      ? {\n                          target: \"\",\n                          msg: \"\",\n                        }\n                      : this.state.error\n                  }\n                  value={this.state.submission_date}\n                  onChange={(value: string) => {\n                    this.setState({\n                      submission_date: value,\n                      error: null,\n                    });\n                  }}\n                  error_key_name={\"submission_date\"}\n                  onCloseError={() => {\n                    this.setState({ error: null, success: \"\" });\n                  }}\n                />\n              </div>\n              <div className=\"col-span-6\">\n                {this.state.success !== \"\" && (\n                  <div className=\"w-full mt-3\">\n                    {\n                      <Alert\n                        alertType={AlertType.SUCCESS}\n                        title={\"Action done successfully\"}\n                        description={this.state.success}\n                        close={() => {\n                          this.setState({\n                            error: null,\n                          });\n                        }}\n                      />\n                    }\n                  </div>\n                )}\n                {this.state.error !== null &&\n                  this.state.error.target === \"main\" && (\n                    <div className=\"w-full mt-3\">\n                      {this.state.error.msg !== \"\" && (\n                        <Alert\n                          alertType={AlertType.DANGER}\n                          title={\n                            this.state.error.target === \"main\"\n                              ? \"Invalid input!\"\n                              : \"Error Occurred\"\n                          }\n                          description={this.state.error.msg}\n                          close={() => {\n                            this.setState({\n                              error: null,\n                            });\n                          }}\n                        />\n                      )}\n                    </div>\n                  )}\n                <button\n                  type=\"submit\"\n                  className=\"flex flex-row items-center justify-center gap-2 font-normal px-3 py-2 rounded-md cursor-pointer text-white bg-primary-800 hover:bg-primary-900 mt-5\"\n                >\n                  <div>\n                    {this.state.loading === true ? (\n                      <AiOutlineLoading3Quarters className=\"text-xl animate-spin\" />\n                    ) : (\n                      <IoSaveOutline className=\"text-xl\" />\n                    )}\n                  </div>\n                  <span>\n                    {this.state.loading === true\n                      ? \"Loading, please wait...\"\n                      : \"Save changes\"}\n                  </span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </MainContainer>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({\n  auth,\n  system,\n}: StoreState): {\n  auth: Auth;\n  system: System;\n} => {\n  return {\n    auth,\n    system,\n  };\n};\n\nexport const CreateApplication = connect(\n  mapStateToProps,\n  {}\n)(_CreateApplication);\n"],"sourceRoot":""}