(this["webpackJsonprwanda-fda"]=this["webpackJsonprwanda-fda"]||[]).push([[9],{101:function(t,e,s){"use strict";s(2);var r=s(1);e.a=function(t){return Object(r.jsx)("div",{className:"bg-white rounded p-2 md:p-3 ".concat(t.className),children:t.children})}},117:function(t,e,s){"use strict";s.r(e),s.d(e,"ChangePassword",(function(){return g}));var r=s(3),a=s(4),o=s(5),n=s(26),i=s(27),c=s(28),l=s(29),d=s(6),u=s.n(d),p=s(2),m=s(24),b=s(23),f=s(21),w=s(101),h=s(7),j=s(12),x=s(1),g=function(t){Object(c.a)(s,t);var e=Object(l.a)(s);function s(t){var i;return Object(n.a)(this,s),(i=e.call(this,t)).SubmitChangePassword=function(){var t=Object(o.a)(Object(r.a)().mark((function t(e){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),i.setState({formError:null}),""!==i.state.current_password){t.next=4;break}return t.abrupt("return",i.setState({formError:{target:"current_password",msg:"Please fill current password!"}}));case 4:if(""!==i.state.new_password){t.next=6;break}return t.abrupt("return",i.setState({formError:{target:"new_password",msg:"Please fill new password!"}}));case 6:if(""!==i.state.confirm_password){t.next=8;break}return t.abrupt("return",i.setState({formError:{target:"confirm_password",msg:"Please fill confirm password!"}}));case 8:if(i.state.new_password===i.state.confirm_password){t.next=10;break}return t.abrupt("return",i.setState({formError:{target:"confirm_password",msg:"Password does not match with your new password!"}}));case 10:return i.setState({loading:!0,formError:null,success:""}),t.prev=11,t.next=14,u.a.patch("".concat(h.a,"/user/change/password"),{newPassword:i.state.new_password,oldPassword:i.state.current_password});case 14:t.sent&&i.setState({success:"Password has changed successfully!",loading:!1,formError:null}),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(11),console.log("Err: ",Object(a.a)({},t.t0)),i.setState({formError:{target:"main",msg:Object(j.d)(t.t0)},success:"",loading:!1});case 22:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(e){return t.apply(this,arguments)}}(),i.state={loading:!1,current_password:"",new_password:"",confirm_password:"",formError:null,passwordDisplay:!1,success:""},i}return Object(i.a)(s,[{key:"render",value:function(){var t,e,s,r,a,o,n,i=this;return Object(x.jsx)("div",{className:"",children:Object(x.jsxs)(w.a,{className:"mt-3",children:[Object(x.jsx)("div",{className:"flex flex-row items-center mb-4 p-2 md:p-3 md:pb-0",children:Object(x.jsxs)("div",{className:"font-extrabold text-2xl text-black flex flex-row items-center gap-2",children:[Object(x.jsx)("div",{children:Object(x.jsx)(b.c,{className:"text-3xl"})}),Object(x.jsx)("span",{children:"Change Password"})]})}),Object(x.jsx)("form",{onSubmit:this.SubmitChangePassword,className:"w-full p-3",children:Object(x.jsxs)("div",{className:"w-full md:w-2/3",children:[Object(x.jsxs)("div",{className:"flex flex-col gap-1 mb-3 w-full",children:[Object(x.jsx)("span",{className:"font-light text-sm",children:"Current Password "}),Object(x.jsxs)("div",{className:"relative w-full",children:[Object(x.jsx)("input",{type:!0===this.state.passwordDisplay?"text":"password",value:this.state.current_password,disabled:this.state.loading,onChange:function(t){i.setState({current_password:t.target.value,formError:null})},className:"border ".concat("current_password"===(null===(t=this.state.formError)||void 0===t?void 0:t.target)?"border-red-300":"border-primary-700"," ").concat(!0===this.state.loading?"cursor-not-allowed":""," bg-white rounded-md px-3 py-2 w-full")}),Object(x.jsx)("div",{onClick:function(){return i.setState({passwordDisplay:!i.state.passwordDisplay})},className:"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700",children:!1===this.state.passwordDisplay?Object(x.jsx)(m.b,{}):Object(x.jsx)(m.c,{})})]}),Object(x.jsx)("div",{children:"current_password"===(null===(e=this.state.formError)||void 0===e?void 0:e.target)&&Object(x.jsx)(f.b,{alertType:f.a.DANGER,title:"Error Occurred",description:this.state.formError.msg,close:function(){return i.setState({formError:null})}})})]}),Object(x.jsxs)("div",{className:"flex flex-col gap-1 mb-3 w-full",children:[Object(x.jsx)("span",{className:"font-light text-sm",children:"New Password "}),Object(x.jsxs)("div",{className:"relative w-full",children:[Object(x.jsx)("input",{type:!0===this.state.passwordDisplay?"text":"password",value:this.state.new_password,disabled:this.state.loading,onChange:function(t){i.setState({new_password:t.target.value,formError:null})},className:"border ".concat("new_password"===(null===(s=this.state.formError)||void 0===s?void 0:s.target)?"border-red-300":"border-primary-700"," ").concat(!0===this.state.loading?"cursor-not-allowed":""," bg-white rounded-md px-3 py-2 w-full")}),Object(x.jsx)("div",{onClick:function(){return i.setState({passwordDisplay:!i.state.passwordDisplay})},className:"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700",children:!1===this.state.passwordDisplay?Object(x.jsx)(m.b,{}):Object(x.jsx)(m.c,{})})]}),Object(x.jsx)("div",{children:"new_password"===(null===(r=this.state.formError)||void 0===r?void 0:r.target)&&Object(x.jsx)(f.b,{alertType:f.a.DANGER,title:"Error Occurred",description:this.state.formError.msg,close:function(){return i.setState({formError:null})}})})]}),Object(x.jsxs)("div",{className:"flex flex-col gap-1 mb-3 w-full",children:[Object(x.jsx)("span",{className:"font-light text-sm",children:"Confirm Password "}),Object(x.jsxs)("div",{className:"relative w-full",children:[Object(x.jsx)("input",{type:!0===this.state.passwordDisplay?"text":"password",value:this.state.confirm_password,disabled:this.state.loading,onChange:function(t){i.setState({confirm_password:t.target.value,formError:null})},className:"border ".concat("confirm_password"===(null===(a=this.state.formError)||void 0===a?void 0:a.target)?"border-red-300":"border-primary-700"," ").concat(!0===this.state.loading?"cursor-not-allowed":""," bg-white rounded-md px-3 py-2 w-full")}),Object(x.jsx)("div",{onClick:function(){return i.setState({passwordDisplay:!i.state.passwordDisplay})},className:"absolute inset-y-0 right-0 pr-3 flex items-center leading-5 text-3xl cursor-pointer text-primary-700",children:!1===this.state.passwordDisplay?Object(x.jsx)(m.b,{}):Object(x.jsx)(m.c,{})})]}),Object(x.jsx)("div",{children:"confirm_password"===(null===(o=this.state.formError)||void 0===o?void 0:o.target)&&Object(x.jsx)(f.b,{alertType:f.a.DANGER,title:"Error Occurred",description:this.state.formError.msg,close:function(){return i.setState({formError:null})}})})]}),"main"===(null===(n=this.state.formError)||void 0===n?void 0:n.target)&&Object(x.jsx)("div",{className:"w-full mb-2 -mt-2",children:Object(x.jsx)(f.b,{alertType:f.a.DANGER,title:"Action Failed",description:this.state.formError.msg,close:function(){return i.setState({formError:null})}})}),""!==this.state.success&&Object(x.jsx)("div",{className:"w-full mb-2 -mt-2",children:Object(x.jsx)(f.b,{alertType:f.a.SUCCESS,title:"Action succeeded",description:this.state.success,close:function(){return i.setState({success:""})}})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{type:"submit",disabled:this.state.loading,className:"px-3 py-2 rounded ".concat(!0===this.state.loading?"bg-gray-300 font-bold cursor-not-allowed":"bg-primary-700 hover:bg-primary-900 text-white cursor-pointer"," w-max"),children:!0===this.state.loading?Object(x.jsx)("span",{className:"animate__animated animate__fadeIn animate__faster animate__infinite",children:"Loading, please wait..."}):"Change Password"})})]})})]})})}}]),s}(p.Component)}}]);
//# sourceMappingURL=9.a47044ad.chunk.js.map